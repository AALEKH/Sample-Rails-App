<!DOCTYPE html>
<!-- saved from url=(0056)https://www.railstutorial.org/book/toy_app#cha-a_toy_app -->
<html id="custDomain"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/1310fd97f1"></script><script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/nr-632.min.js"></script><script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/6713.js" async="" type="text/javascript"></script><script type="text/javascript" async="" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/54eea5d20a23b37d87000040.js"></script><script id="facebook-jssdk" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/sdk.js"></script><script id="twitter-wjs" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/widgets.js"></script><script async="" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/analytics.js"></script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"1310fd97f1","applicationID":"4014257","transactionName":"IVZWR0tbWF4BFxhWVw1SSxxaQUdGCwhoRl0DXQ==","queueTime":12,"applicationTime":162,"ttGuid":"","agentToken":null,"agent":"js-agent.newrelic.com/nr-632.min.js"}</script>
<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o?o:n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({QJf3ax:[function(e,n){function t(e){function n(n,t,a){e&&e(n,t,a),a||(a={});for(var u=c(n),f=u.length,s=i(a,o,r),p=0;f>p;p++)u[p].apply(s,t);return s}function a(e,n){f[e]=c(e).concat(n)}function c(e){return f[e]||[]}function u(){return t(n)}var f={};return{on:a,emit:n,create:u,listeners:c,_events:f}}function r(){return{}}var o="nr@context",i=e("gos");n.exports=t()},{gos:"7eSDFh"}],ee:[function(e,n){n.exports=e("QJf3ax")},{}],3:[function(e,n){function t(e){return function(){r(e,[(new Date).getTime()].concat(i(arguments)))}}var r=e("handle"),o=e(1),i=e(2);"undefined"==typeof window.newrelic&&(newrelic=window.NREUM);var a=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit","noticeError"];o(a,function(e,n){window.NREUM[n]=t("api-"+n)}),n.exports=window.NREUM},{1:12,2:13,handle:"D5DuLP"}],"7eSDFh":[function(e,n){function t(e,n,t){if(r.call(e,n))return e[n];var o=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return e[n]=o,o}var r=Object.prototype.hasOwnProperty;n.exports=t},{}],gos:[function(e,n){n.exports=e("7eSDFh")},{}],handle:[function(e,n){n.exports=e("D5DuLP")},{}],D5DuLP:[function(e,n){function t(e,n,t){return r.listeners(e).length?r.emit(e,n,t):(o[e]||(o[e]=[]),void o[e].push(n))}var r=e("ee").create(),o={};n.exports=t,t.ee=r,r.q=o},{ee:"QJf3ax"}],id:[function(e,n){n.exports=e("XL7HBI")},{}],XL7HBI:[function(e,n){function t(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:i(e,o,function(){return r++})}var r=1,o="nr@id",i=e("gos");n.exports=t},{gos:"7eSDFh"}],G9z0Bl:[function(e,n){function t(){var e=d.info=NREUM.info,n=f.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&n){c(p,function(n,t){n in e||(e[n]=t)});var t="https"===s.split(":")[0]||e.sslForHttp;d.proto=t?"https://":"http://",a("mark",["onload",i()]);var r=f.createElement("script");r.src=d.proto+e.agent,n.parentNode.insertBefore(r,n)}}function r(){"complete"===f.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=e("handle"),c=e(1),u=(e(2),window),f=u.document,s=(""+location).split("?")[0],p={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-632.min.js"},d=n.exports={offset:i(),origin:s,features:{}};f.addEventListener?(f.addEventListener("DOMContentLoaded",o,!1),u.addEventListener("load",t,!1)):(f.attachEvent("onreadystatechange",r),u.attachEvent("onload",t)),a("mark",["firstbyte",i()])},{1:12,2:3,handle:"D5DuLP"}],loader:[function(e,n){n.exports=e("G9z0Bl")},{}],12:[function(e,n){function t(e,n){var t=[],o="",i=0;for(o in e)r.call(e,o)&&(t[i]=n(o,e[o]),i+=1);return t}var r=Object.prototype.hasOwnProperty;n.exports=t},{}],13:[function(e,n){function t(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(0>o?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=t},{}]},{},["G9z0Bl"]);</script>
<script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/1197428788.js" type="text/javascript"></script>

<title>Chapter 2: A toy app
 | Ruby on Rails Tutorial (3rd Ed.) | Softcover.io</title>
<meta charset="UTF-8">
<script>
  window.Config = {
    bucket: "softcover",
    previewBucket: "softcover-cloud"
  }
</script>
<link href="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/reading-f94332aa5530507ff2baa11fb4e87e02.css" media="screen" rel="stylesheet" type="text/css">
<link href="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/print-ca85c1c74168e935ca4e2e958a3a5c2b.css" media="print" rel="stylesheet" type="text/css">
<script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/jquery-2.0.3.min.js" type="text/javascript"></script>
<script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/jquery.formalize.min.js" type="text/javascript"></script>
<script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/underscore-min.js" type="text/javascript"></script>
<script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/saved_resource" type="text/javascript"></script>
<script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/application-33d18f2d7c912737a7ec7d4d42790389.js" type="text/javascript"></script>
<meta content="authenticity_token" name="csrf-param">
<meta content="aF6f8kVvDSuASZLfHblImuev8bWpsFcDCer6oz14Ph4=" name="csrf-token">
<link href="https://www.railstutorial.org/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed">
<meta content="http://www.railstutorial.org" property="og:url">
<meta content="Ruby on Rails Tutorial (3rd Ed.)" property="og:title">
<meta content="The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book." property="og:description">
<meta content="Softcover.io" property="og:site_name">
<meta content="https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/images/cover-web.png" property="og:image">
<meta content="https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/images/cover-web.png" property="og:image:secure_url">
<meta content="image/png" property="og:image:type">
<meta content="500" property="og:image:width">
<meta content="500" property="og:image:height">
<link href="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/css" rel="stylesheet" type="text/css">
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/jsapi" type="text/javascript"></script>
<script>
  // test key only
  // this identifies your website in the createToken call below
  Stripe.setPublishableKey('pk_live_Xn1p0BfxqKxkAxtEr03P7wmd');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('require', 'linker');
  ga('linker:autoLink', ['www.railstutorial.org', 'softcover.io']);

  ga('create', 'UA-46858978-1', 'softcover.io', {'allowLinker': true});
  ga('send', 'pageview');

  ga('create', 'UA-8667566-1', 'auto', {
    'name': 'book',
    'allowLinker': true
  });

  ga('book.send', 'pageview');

</script>
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>


<script src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/custom_domain_js.js" type="text/javascript"></script>
<style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f8;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3a5795;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #2f477a;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f8;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style><script type="text/javascript" async="" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/tagjs"></script><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/saved_resource(1)" width="1" height="1" border="0"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/seg" width="1" height="1" border="0"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/seg(1)" width="1" height="1" border="0"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/seg(2)" width="1" height="1" border="0"><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">.MathJax_Preview .MJXc-math {color: inherit!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXc-script {font-size: .8em}
.MJXc-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXc-bold {font-weight: bold}
.MJXc-italic {font-style: italic}
.MJXc-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-largeop {font-size: 150%}
.MJXc-largeop.MJXc-int {vertical-align: -.2em}
.MJXc-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXc-display {display: block; text-align: center; margin: 1em 0}
.MJXc-math span {display: inline-block}
.MJXc-box {display: block!important; text-align: center}
.MJXc-box:after {content: " "}
.MJXc-rule {display: block!important; margin-top: .1em}
.MJXc-char {display: block!important}
.MJXc-mo {margin: 0 .15em}
.MJXc-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXc-denom {display: inline-table!important; width: 100%}
.MJXc-denom > * {display: table-row!important}
.MJXc-surd {vertical-align: top}
.MJXc-surd > * {display: block!important}
.MJXc-script-box > *  {display: table!important; height: 50%}
.MJXc-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXc-script-box > *:last-child > * {vertical-align: bottom}
.MJXc-script-box > * > * > * {display: block!important}
.MJXc-mphantom {visibility: hidden}
.MJXc-munderover {display: inline-table!important}
.MJXc-over {display: inline-block!important; text-align: center}
.MJXc-over > * {display: block!important}
.MJXc-munderover > * {display: table-row!important}
.MJXc-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXc-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXc-mtr {display: table-row!important}
.MJXc-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXc-mtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-mlabeledtr {display: table-row!important}
.MJXc-mlabeledtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mlabeledtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXc-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXc-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXc-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXc-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXc-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXc-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXc-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXc-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXc-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXc-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_CHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><script id="mathJaxJS" type="text/javascript" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/MathJax.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">.MathJax_Preview .MJXc-math {color: inherit!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXc-script {font-size: .8em}
.MJXc-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXc-bold {font-weight: bold}
.MJXc-italic {font-style: italic}
.MJXc-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXc-largeop {font-size: 150%}
.MJXc-largeop.MJXc-int {vertical-align: -.2em}
.MJXc-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXc-display {display: block; text-align: center; margin: 1em 0}
.MJXc-math span {display: inline-block}
.MJXc-box {display: block!important; text-align: center}
.MJXc-box:after {content: " "}
.MJXc-rule {display: block!important; margin-top: .1em}
.MJXc-char {display: block!important}
.MJXc-mo {margin: 0 .15em}
.MJXc-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXc-denom {display: inline-table!important; width: 100%}
.MJXc-denom > * {display: table-row!important}
.MJXc-surd {vertical-align: top}
.MJXc-surd > * {display: block!important}
.MJXc-script-box > *  {display: table!important; height: 50%}
.MJXc-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXc-script-box > *:last-child > * {vertical-align: bottom}
.MJXc-script-box > * > * > * {display: block!important}
.MJXc-mphantom {visibility: hidden}
.MJXc-munderover {display: inline-table!important}
.MJXc-over {display: inline-block!important; text-align: center}
.MJXc-over > * {display: block!important}
.MJXc-munderover > * {display: table-row!important}
.MJXc-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXc-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXc-mtr {display: table-row!important}
.MJXc-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXc-mtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-mlabeledtr {display: table-row!important}
.MJXc-mlabeledtr > .MJXc-mtd:first-child {padding-left: 0}
.MJXc-mlabeledtr:first-child > .MJXc-mtd {padding-top: 0}
.MJXc-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXc-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXc-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXc-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXc-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXc-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXc-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXc-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXc-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXc-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXc-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_CHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body data-twttr-rendered="true"><div id="MathJax_Message" style="display: none;"></div><div id="MathJax_Message" style="display: none;"></div>
<noscript>
&lt;div id='noscript'&gt;
&lt;h2&gt;Please enable javascript&lt;/h2&gt;
This site requires you to allow Javascript to run in the browser for all features to work. Thank you!
&lt;/div&gt;
</noscript>
<script type="text/javascript">
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
window.fbAsyncInit = function() {
FB.init({
appId      : '145973438749643',
xfbml      : true,
version    : 'v2.0'
});
};
(function(d, s, id){
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) {return;}
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/sdk.js";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>
<div class="closeLeft container">
<div class="container_footer">
<div id="header">
<div class="wrapper">
<a href="https://www.railstutorial.org/" class="logo"><img alt="Logo" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/logo-e741419bc04d21db7e60ddc10883b4f9.png">
</a><a href="javascript://" id="mobileMenu"><div class="closedMenu">
≡
<span>Menu</span>
</div>
<div class="openMenu">
x
<span>Close</span>
</div>
</a><div class="j_userHeader closeLeft" style="display:inline"><ul class="headerMenu">
<li><a href="https://www.softcover.io/login">Log In</a></li>
<li><a href="https://www.softcover.io/account/sign_up">Sign Up</a></li>
</ul>
</div>
<div id="dropBG"></div>
<div class="clear"></div>
</div>
</div>

<link href="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/custom.css" media="screen" rel="stylesheet" type="text/css">
<div id="pageBook">
<div id="bookHeader">
<div class="wrapper">
<div class="bookCover">
<a href="https://www.railstutorial.org/book"><img alt="Cover-web" class="cover" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/cover-web.png">
<img alt="Cover_bg" class="coverBG" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/cover_bg-88b6816f72bba1e853bbfcd1caff472a.png">
<p>
<i class="ibooksMedia iRead"></i>
READ ONLINE FREE
</p>
</a></div>
<div class="bookInfo">
<h1>
Ruby on Rails Tutorial (3rd Ed.)
<span class="j_subtitle">Learn Web Development with Rails</span>
<strong>Michael Hartl</strong>
</h1>
<p class="j_description">
 The Ruby on Rails Tutorial book and screencast series teach you how to develop and deploy real, industrial-strength web applications with Ruby on Rails, the open-source web framework that powers top websites such as Twitter, Hulu, GitHub, and the Yellow Pages. The Ruby on Rails Tutorial book is available for free online and is available for purchase as an ebook (PDF, EPUB, and MOBI formats). The companion screencast series includes 12 individual lessons, one for each chapter of the Ruby on Rails Tutorial book. All purchases also include a free copy of the Solutions Manual for Exercises, with solutions to every exercise in the book. 

</p>

<div class="bookControls">
<a href="https://www.railstutorial.org/"><button class="transBG">Book Info</button>
</a><a href="mailto:admin@railstutorial.org"><button class="transBG">Contact Author</button>
</a></div>

</div>

</div>
</div>

<div id="bookMenu" style="display:" class="bookMenuFixed">
<div class="wrapper">
<div class="bookMenuControls">
<div class="bookMenuArows">
<a href="javascript://" class="leftArrow">◄</a>
<a href="javascript://" class="upArrow">▲</a>
<a href="javascript://" class="rightArrow">►</a>
</div>
<div class="bookMenuSize">
<a href="javascript://" class="current" id="sizeRegular"></a>
<a href="javascript://" id="sizeBig"></a>
<a href="javascript://" id="sizeBigger"></a>
</div>
<div class="bookMenuSearch">
<a href="javascript://" id="j_singlePage"><i class="fa fa-search"></i>
Single Page
</a></div>
</div>
<div class="dropDown" id="j_chapterDropDown">
<span id="chapterTitle">Chapter 2: A toy app
</span>
<ul class="dropMenu"><li><a>Frontmatter
</a></li><li><a>Chapter 1: From zero to deploy
</a></li><li><a>Chapter 2: A toy app
</a></li><li><a>Chapter 3: Mostly static pages
</a></li><li><a>Chapter 4: Rails-flavored Ruby
</a></li><li><a>Chapter 5: Filling in the layout
</a></li><li><a>Chapter 6: Modeling users
</a></li><li><a>Chapter 7: Sign up
</a></li><li><a>Chapter 8: Log in, log out
</a></li><li><a>Chapter 9: Updating, showing, and deleting users
</a></li><li><a>Chapter 10: Account activation and password reset
</a></li><li><a>Chapter 11: User microposts
</a></li><li><a>Chapter 12: Following users
</a></li></ul>
</div>
<div class="bookMenuActions j_downloadLinks"><a href="" onclick="$(&#39;#bookMenuEmail&#39;).toggleClass(&#39;open&#39;); return false"><button class="greyButton iEmailUpdate">❤</button>
</a><a href="https://www.railstutorial.org/#pricing" class="buttonStyle attention">Buy Now</a>
<a href="https://www.softcover.io/downloads/28fdb94f/ruby_on_rails_tutorial_3rd_edition"><button>Download Previews</button>
</a></div>
</div>
<div class="animated" id="bookMenuEmail">
<div class="wrapper">
<label>Follow this book to receive email updates from the author.</label>
<div class="j_followBookForm"><form accept-charset="UTF-8" action="https://www.softcover.io/follow/28fdb94f/ruby_on_rails_tutorial_3rd_edition" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
<!-- %input{name: "name", type: "text", placeholder: "YOUR NAME"} -->
<input name="email" placeholder="YOUR EMAIL ADDRESS" type="text">
<input class="greyButton optClick_follow" type="submit" value="Follow Book">
</form>

</div>
</div>
</div>
</div>
<div class="wrapper" id="bookWr">
<div class="bookChapterTop">Chapter 2: A toy app
</div>
<div id="bookHtml" style="opacity: 1;"><div id="book"><div id="_cha-a_toy_app" data-tralics-id="cid9" class="chapter" data-number="2" data-chapter="toy_app"><h1><a href="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io.html" class="heading hyperref"><span class="number">Chapter 2 </span>A toy app</a></h1>
<p>In this chapter, we’ll develop a toy demo application to show off some of the power of Rails.<span class="intersentencespace"></span> The purpose is to get a high-level overview of Ruby on Rails programming (and web development in general) by rapidly generating an application using <em>scaffold generators</em>, which create a large amount of functionality automatically.<span class="intersentencespace"></span> As discussed in <a href="https://www.railstutorial.org/book/beginning#aside-scaffolding" class="hyperref">Box&nbsp;<span class="ref">1.2</span></a>, the rest of the book will take the opposite approach, developing a full sample application incrementally and explaining each new concept as it arises, but for a quick overview (and some instant gratification) there is no substitute for scaffolding.<span class="intersentencespace"></span> The resulting toy app will allow us to interact with it through its URLs, giving us insight into the structure of a Rails application, including a first example of the <em>REST architecture</em> favored by Rails.</p>
<p>As with the forthcoming sample application, the toy app will consist of <em>users</em> and their associated <em>microposts</em> (thus constituting a minimalist Twitter-style app).<span class="intersentencespace"></span> The functionality will be utterly under-developed, and many of the steps will seem like magic, but worry not: the full sample app will develop a similar application from the ground up starting in <a href="https://www.railstutorial.org/book/static_pages#cha-static_pages" class="hyperref">Chapter&nbsp;<span class="ref">3</span></a>, and I will provide plentiful forward-references to later material.<span class="intersentencespace"></span> In the mean time, have patience and a little faith—the whole point of this tutorial is to take you <em>beyond</em> this superficial, scaffold-driven approach to achieve a deeper understanding of Rails.</p>
</div><div id="_sec-planning_the_application" data-tralics-id="cid10" class="section" data-number="2.1"><h2><a href="https://www.railstutorial.org/book/toy_app#sec-planning_the_application" class="heading hyperref"><span class="number">2.1 </span>Planning the application</a></h2>
<p>In this section, we’ll outline our plans for the toy application.<span class="intersentencespace"></span> As in <a href="https://www.railstutorial.org/book/beginning#sec-the_hello_application" class="hyperref">Section&nbsp;<span class="ref">1.3</span></a>, we’ll start by generating the application skeleton using the <code>rails new</code> command with a specific Rails version number:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> <span class="nb">cd</span> ~/workspace
<span class="gp">$</span> rails _4.2.2_ new toy_app
<span class="gp">$</span> <span class="nb">cd </span>toy_app/
</pre></div></div>
<p>If the command above returns an error like “Could not find ’railties”’, it means you don’t have the right version of Rails installed, and you should double-check that you followed the command in <a href="https://www.railstutorial.org/book/beginning#code-installing_rails" class="hyperref">Listing&nbsp;<span class="ref">1.1</span></a> exactly as written.<span class="intersentencespace"></span> (If you’re using the cloud IDE as recommended in <a href="https://www.railstutorial.org/book/beginning#sec-development_environment" class="hyperref">Section&nbsp;<span class="ref">1.2.1</span></a>, note that this second app can be created in the same workspace as the first.<span class="intersentencespace"></span> It is not necessary to create a new workspace.<span class="intersentencespace"></span> In order to get the files to appear, you may need to click the gear icon in the file navigator area and select “Refresh File Tree”.)</p>
<p>Next, we’ll use a text editor to update the <code>Gemfile</code> needed by Bundler with the contents of <a href="https://www.railstutorial.org/book/toy_app#code-demo_gemfile_sqlite_version_redux" class="hyperref">Listing&nbsp;<span class="ref">2.1</span></a>.</p>
<div class="codelisting" id="_code-demo_gemfile_sqlite_version_redux" data-tralics-id="uid118" data-number="2.1"><div class="heading"><span class="number">Listing 2.1:</span> 

<span class="description">A <code>Gemfile</code> for the toy app.</span>
</div>

<div class="code"><div class="highlight"><pre><span class="n">source</span> <span class="s1">'https://rubygems.org'</span>

<span class="n">gem</span> <span class="s1">'rails'</span><span class="p">,</span>        <span class="s1">'4.2.2'</span>
<span class="n">gem</span> <span class="s1">'sass-rails'</span><span class="p">,</span>   <span class="s1">'5.0.2'</span>
<span class="n">gem</span> <span class="s1">'uglifier'</span><span class="p">,</span>     <span class="s1">'2.5.3'</span>
<span class="n">gem</span> <span class="s1">'coffee-rails'</span><span class="p">,</span> <span class="s1">'4.1.0'</span>
<span class="n">gem</span> <span class="s1">'jquery-rails'</span><span class="p">,</span> <span class="s1">'4.0.3'</span>
<span class="n">gem</span> <span class="s1">'turbolinks'</span><span class="p">,</span>   <span class="s1">'2.3.0'</span>
<span class="n">gem</span> <span class="s1">'jbuilder'</span><span class="p">,</span>     <span class="s1">'2.2.3'</span>
<span class="n">gem</span> <span class="s1">'sdoc'</span><span class="p">,</span>         <span class="s1">'0.4.0'</span><span class="p">,</span> <span class="ss">group</span><span class="p">:</span> <span class="ss">:doc</span>

<span class="n">group</span> <span class="ss">:development</span><span class="p">,</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">'sqlite3'</span><span class="p">,</span>     <span class="s1">'1.3.9'</span>
  <span class="n">gem</span> <span class="s1">'byebug'</span><span class="p">,</span>      <span class="s1">'3.4.0'</span>
  <span class="n">gem</span> <span class="s1">'web-console'</span><span class="p">,</span> <span class="s1">'2.0.0.beta3'</span>
  <span class="n">gem</span> <span class="s1">'spring'</span><span class="p">,</span>      <span class="s1">'1.1.3'</span>
<span class="k">end</span>

<span class="n">group</span> <span class="ss">:production</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">'pg'</span><span class="p">,</span>             <span class="s1">'0.17.1'</span>
  <span class="n">gem</span> <span class="s1">'rails_12factor'</span><span class="p">,</span> <span class="s1">'0.0.2'</span>
<span class="k">end</span>
</pre></div></div></div><p>Note that <a href="https://www.railstutorial.org/book/toy_app#code-demo_gemfile_sqlite_version_redux" class="hyperref">Listing&nbsp;<span class="ref">2.1</span></a> is identical to <a href="https://www.railstutorial.org/book/beginning#code-gemfile_pg_gem" class="hyperref">Listing&nbsp;<span class="ref">1.14</span></a>.</p>
<p>As in <a href="https://www.railstutorial.org/book/beginning#sec-heroku_setup" class="hyperref">Section&nbsp;<span class="ref">1.5.1</span></a>, we’ll install the local gems while suppressing the installation of production gems using the <span class="inline_verbatim">--without production</span> option:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle install --without production
</pre></div></div>
<p>Finally, we’ll put the toy app under version control with Git:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> git init
<span class="gp">$</span> git add -A
<span class="gp">$</span> git commit -m <span class="s2">"Initialize repository"</span>
</pre></div></div>
<p>You should also <a href="https://bitbucket.org/repo/create" target="_blank">create a new repository</a> by clicking on the “Create” button at Bitbucket (<a href="https://www.railstutorial.org/book/toy_app#fig-create_demo_repository" class="hyperref">Figure&nbsp;<span class="ref">2.1</span></a>), and then push up to the remote repository:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> git remote add origin git@bitbucket.org:&lt;username&gt;/toy_app.git
<span class="gp">$</span> git push -u origin --all <span class="c"># pushes up the repo and its refs for the first time</span>
</pre></div></div>
<div class="center figure" id="_fig-create_demo_repository" data-tralics-id="uid119" data-number="2.1">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/create_demo_repo_bitbucket.png" alt="images/figures/create_demo_repo_bitbucket"></div><div class="caption"><span class="header">Figure 2.1: </span><span class="description">Creating the toy app repository at Bitbucket.
</span></div></div>
<p>Finally, it’s never too early to deploy, which I suggest doing by following the same “hello, world!” steps in <a href="https://www.railstutorial.org/book/beginning#code-hello_action" class="hyperref">Listing&nbsp;<span class="ref">1.8</span></a> and <a href="https://www.railstutorial.org/book/beginning#code-default_root_route" class="hyperref">Listing&nbsp;<span class="ref">1.9</span></a>.<sup id="_cha-2_footnote-ref-1" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-1">1</a></sup><span class="intersentencespace"></span> Then commit the changes and push up to Heroku:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> git commit -am <span class="s2">"Add hello"</span>
<span class="gp">$</span> heroku create
<span class="gp">$</span> git push heroku master
</pre></div></div>
<p>(As in <a href="https://www.railstutorial.org/book/beginning#sec-deploying" class="hyperref">Section&nbsp;<span class="ref">1.5</span></a>, you may see some warning messages, which you should ignore for now.<span class="intersentencespace"></span> We’ll eliminate them in <a href="https://www.railstutorial.org/book/sign_up#sec-professional_grade_deployment" class="hyperref">Section&nbsp;<span class="ref">7.5</span></a>.)<span class="intersentencespace"></span> Apart from the address of the Heroku app, the result should be the same as in <a href="https://www.railstutorial.org/book/beginning#fig-heroku_app" class="hyperref">Figure&nbsp;<span class="ref">1.18</span></a>.</p>
<p>Now we’re ready to start making the app itself.<span class="intersentencespace"></span> The typical first step when making a web application is to create a <em>data model</em>, which is a representation of the structures needed by our application.<span class="intersentencespace"></span> In our case, the toy app will be a microblog, with only users and short (micro)posts.<span class="intersentencespace"></span> Thus, we’ll begin with a model for <em>users</em> of the app (<a href="https://www.railstutorial.org/book/toy_app#sec-modeling_demo_users" class="hyperref">Section&nbsp;<span class="ref">2.1.1</span></a>), and then we’ll add a model for <em>microposts</em> (<a href="https://www.railstutorial.org/book/toy_app#sec-modeling_demo_microposts" class="hyperref">Section&nbsp;<span class="ref">2.1.2</span></a>).</p>
<div id="_sec-modeling_demo_users" data-tralics-id="uid121" class="subsection" data-number="2.1.1"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-modeling_demo_users" class="heading hyperref"><span class="number">2.1.1 </span>A toy model for users</a></h3>
<p>There are as many choices for a user data model as there are different registration forms on the web; we’ll go with a distinctly minimalist approach.<span class="intersentencespace"></span> Users of our toy app will have a unique <code>integer</code> identifier called <code>id</code>, a publicly viewable <code>name</code> (of type <code>string</code>), and an <code>email</code> address (also a <code>string</code>) that will double as a username.<span class="intersentencespace"></span> A summary of the data model for users appears in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_user_model" class="hyperref">Figure&nbsp;<span class="ref">2.2</span></a>.</p>
<div class="center figure" id="_fig-demo_user_model" data-tralics-id="uid122" data-number="2.2"><span class="graphics"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_user_model.png" alt="demo_user_model"></span>
<div class="caption"><span class="header">Figure 2.2: </span><span class="description">The data model for users.
</span></div></div>
<p>As we’ll see starting in <a href="https://www.railstutorial.org/book/modeling_users#sec-database_migrations" class="hyperref">Section&nbsp;<span class="ref">6.1.1</span></a>, the label <code>users</code> in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_user_model" class="hyperref">Figure&nbsp;<span class="ref">2.2</span></a> corresponds to a <em>table</em> in a database, and the <code>id</code>, <code>name</code>, and <code>email</code> attributes are <em>columns</em> in that table.</p>
</div>
<div id="_sec-modeling_demo_microposts" data-tralics-id="uid123" class="subsection" data-number="2.1.2"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-modeling_demo_microposts" class="heading hyperref"><span class="number">2.1.2 </span>A toy model for microposts</a></h3>
<p>The core of the micropost data model is even simpler than the one for users: a micropost has only an <code>id</code> and a <code>content</code> field for the micropost’s text (of type <code>text</code>).<sup id="_cha-2_footnote-ref-2" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-2">2</a></sup><span class="intersentencespace"></span> There’s an additional complication, though: we want to <em>associate</em> each micropost with a particular user.<span class="intersentencespace"></span> We’ll accomplish this by recording the <code>user_id</code> of the owner of the post.<span class="intersentencespace"></span> The results are shown in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_micropost_model" class="hyperref">Figure&nbsp;<span class="ref">2.3</span></a>.</p>
<div class="center figure" id="_fig-demo_micropost_model" data-tralics-id="uid125" data-number="2.3"><span class="graphics"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_micropost_model.png" alt="demo_micropost_model"></span>
<div class="caption"><span class="header">Figure 2.3: </span><span class="description">The data model for microposts.
</span></div></div>
<p>We’ll see in <a href="https://www.railstutorial.org/book/toy_app#sec-demo_user_has_many_microposts" class="hyperref">Section&nbsp;<span class="ref">2.3.3</span></a> (and more fully in <a href="https://www.railstutorial.org/book/user_microposts#cha-user_microposts" class="hyperref">Chapter&nbsp;<span class="ref">11</span></a>) how this <code>user_id</code> attribute allows us to succinctly express the notion that a user potentially has many associated microposts.</p>
</div></div><div id="_sec-demo_users_resource" data-tralics-id="cid11" class="section" data-number="2.2"><h2><a href="https://www.railstutorial.org/book/toy_app#sec-demo_users_resource" class="heading hyperref"><span class="number">2.2 </span>The Users resource</a></h2>
<p>In this section, we’ll implement the users data model in <a href="https://www.railstutorial.org/book/toy_app#sec-modeling_demo_users" class="hyperref">Section&nbsp;<span class="ref">2.1.1</span></a>, along with a web interface to that model.<span class="intersentencespace"></span> The combination will constitute a <em>Users resource</em>, which will allow us to think of users as objects that can be created, read, updated, and deleted through the web via the <a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank">HTTP protocol</a>.<span class="intersentencespace"></span> As promised in the introduction, our Users resource will be created by a scaffold generator program, which comes standard with each Rails project.<span class="intersentencespace"></span> I urge you not to look too closely at the generated code; at this stage, it will only serve to confuse you.</p>
<p>Rails scaffolding is generated by passing the <code>scaffold</code> command to the <code>rails generate</code> script.<span class="intersentencespace"></span> The argument of the <code>scaffold</code> command is the singular version of the resource name (in this case, <code>User</code>), together with optional parameters for the data model’s attributes:<sup id="_cha-2_footnote-ref-3" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-3">3</a></sup></p>
<div class="code"><div class="highlight"><pre><span class="hll">$ rails generate scaffold User name:string email:string
</span>      invoke  active_record
      create    db/migrate/20140821011110_create_users.rb
      create    app/models/user.rb
      invoke    test_unit
      create      test/models/user_test.rb
      create      test/fixtures/users.yml
      invoke  resource_route
       route    resources :users
      invoke  scaffold_controller
      create    app/controllers/users_controller.rb
      invoke    erb
      create      app/views/users
      create      app/views/users/index.html.erb
      create      app/views/users/edit.html.erb
      create      app/views/users/show.html.erb
      create      app/views/users/new.html.erb
      create      app/views/users/_form.html.erb
      invoke    test_unit
      create      test/controllers/users_controller_test.rb
      invoke    helper
      create      app/helpers/users_helper.rb
      invoke      test_unit
      create        test/helpers/users_helper_test.rb
      invoke    jbuilder
      create      app/views/users/index.json.jbuilder
      create      app/views/users/show.json.jbuilder
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/users.js.coffee
      invoke    scss
      create      app/assets/stylesheets/users.css.scss
      invoke  scss
      create    app/assets/stylesheets/scaffolds.css.scss
</pre></div></div>
<p>By including <code>name:string</code> and <code>email:string</code>, we have arranged for the User model to have the form shown in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_user_model" class="hyperref">Figure&nbsp;<span class="ref">2.2</span></a>.<span class="intersentencespace"></span> (Note that there is no need to include a parameter for&nbsp;<code>id</code>; it is created automatically by Rails for use as the <em>primary key</em> in the database.)</p>
<p>To proceed with the toy application, we first need to <em>migrate</em> the database using <em>Rake</em> (<a href="https://www.railstutorial.org/book/toy_app#aside-rake" class="hyperref">Box&nbsp;<span class="ref">2.1</span></a>):</p>
<div class="code"><div class="highlight"><pre><span class="hll">$ bundle exec rake db:migrate
</span>==  CreateUsers: migrating ====================================================
-- create_table(:users)
   -&gt; 0.0017s
==  CreateUsers: migrated (0.0018s) ===========================================
</pre></div></div>
<p>This simply updates the database with our new <code>users</code> data model.<span class="intersentencespace"></span> (We’ll learn more about database migrations starting in <a href="https://www.railstutorial.org/book/modeling_users#sec-database_migrations" class="hyperref">Section&nbsp;<span class="ref">6.1.1</span></a>.)<span class="intersentencespace"></span> Note that, in order to ensure that the command uses the version of Rake corresponding to our <code>Gemfile</code>, we need to run <code>rake</code> using <code>bundle exec</code>.<span class="intersentencespace"></span> On many systems, including the cloud IDE, you can omit <code>bundle exec</code>, but it is necessary on some systems, so I’ll include it for completeness.</p>
<p>With that, we can run the local web server in a separate tab (<a href="https://www.railstutorial.org/book/beginning#fig-rails_server_new_tab" class="hyperref">Figure&nbsp;<span class="ref">1.7</span></a>) as follows:<sup id="_cha-2_footnote-ref-4" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-4">4</a></sup></p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails server -b <span class="nv">$IP</span> -p <span class="nv">$PORT</span>    <span class="c"># Use only `rails server` if running locally</span>
</pre></div></div>
<p>Now the toy application should be available on the local server as described in <a href="https://www.railstutorial.org/book/beginning#sec-rails_server" class="hyperref">Section&nbsp;<span class="ref">1.3.2</span></a>.<span class="intersentencespace"></span> (If you’re using the cloud IDE, be sure to open the resulting development server in a new <em>browser</em> tab, not inside the IDE itself.)</p>
<div class="aside" id="_aside-rake" data-tralics-id="uid128" data-number="2.1"><div class="heading"><span class="number">Box 2.1.</span> 

<span class="description">Rake</span></div>
<p>In the Unix tradition, the <a href="http://en.wikipedia.org/wiki/Make_(software)" target="_blank"><em>make</em></a> utility has played an important role in building executable programs from source code; many a computer hacker has committed to muscle memory the line</p>
<pre>  $ ./configure &amp;&amp; make &amp;&amp; sudo make install</pre>
<p>commonly used to compile code on Unix systems (including Linux and Mac OS&nbsp;X).</p>
<p>Rake is <em>Ruby make</em>, a make-like language written in Ruby.<span class="intersentencespace"></span> Rails uses Rake extensively, especially for the innumerable little administrative tasks necessary when developing database-backed web applications.<span class="intersentencespace"></span> The <code>rake db:migrate</code> command is probably the most common, but there are many others; you can see a list of database tasks using <code>-T db</code>:</p>
<pre>  $ bundle exec rake -T db</pre>
<p>To see all the Rake tasks available, run</p>
<pre>  $ bundle exec rake -T</pre>
<p>The list is likely to be overwhelming, but don’t worry, you don’t have to know all (or even most) of these commands.<span class="intersentencespace"></span> By the end of the <em>Rails Tutorial</em>, you’ll know all the most important ones.</p>

</div>
<div id="_sec-a_user_tour" data-tralics-id="uid129" class="subsection" data-number="2.2.1"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-a_user_tour" class="heading hyperref"><span class="number">2.2.1 </span>A user tour</a></h3>
<p>If we visit the root URL at&nbsp;/ (read “slash”, as noted in <a href="https://www.railstutorial.org/book/beginning#sec-hello_world" class="hyperref">Section&nbsp;<span class="ref">1.3.4</span></a>), we get the same default Rails page shown in <a href="https://www.railstutorial.org/book/beginning#fig-riding_rails" class="hyperref">Figure&nbsp;<span class="ref">1.9</span></a>, but in generating the Users resource scaffolding we have also created a large number of pages for manipulating users.<span class="intersentencespace"></span> For example, the page for listing all users is at <a href="http://localhost:3000/users" target="_blank">/users</a>, and the
page for making a new user is at <a href="http://localhost:3000/users/new" target="_blank">/users/new</a>.<span class="intersentencespace"></span> The rest of this section is dedicated to taking a whirlwind tour through these user pages.<span class="intersentencespace"></span> As we proceed, it may help to refer to <a href="https://www.railstutorial.org/book/toy_app#table-user_urls" class="hyperref">Table&nbsp;<span class="ref">2.1</span></a>, which shows the correspondence between pages and URLs.</p>
<div class="table" id="_table-user_urls" data-tralics-id="uid130" data-number="2.1"><table class="tabular">
<tbody><tr class="bottom_border"><td class="align_left"><strong>URL</strong></td>
<td class="align_left"><strong>Action</strong></td>
<td class="align_left"><strong>Purpose</strong></td>
</tr><tr><td class="align_left"><a href="http://localhost:3000/users" target="_blank">/users</a></td>
<td class="align_left"><code>index</code></td>
<td class="align_left">page to list all users</td>
</tr><tr><td class="align_left"><a href="http://localhost:3000/users/1" target="_blank">/users/1</a></td>
<td class="align_left"><code>show</code></td>
<td class="align_left">page to show user with id <code>1</code></td>
</tr><tr><td class="align_left"><a href="http://localhost:3000/users/new" target="_blank">/users/new</a></td>
<td class="align_left"><code>new</code></td>
<td class="align_left">page to make a new user</td>
</tr><tr><td class="align_left"><a href="http://localhost:3000/users/1/edit" target="_blank">/users/1/edit</a></td>
<td class="align_left"><code>edit</code></td>
<td class="align_left">page to edit user with id <code>1</code></td>
</tr></tbody></table><div class="caption"><span class="header">Table 2.1: </span><span class="description">The correspondence between pages and URLs for the Users resource.
</span></div></div>
<p>We start with the page to show all the users in our application, called <a href="http://localhost:3000/users" target="_blank"><span class="tt">index</span></a>; as you might expect, initially there are no users at all (<a href="https://www.railstutorial.org/book/toy_app#fig-demo_blank_user_index_rails_3" class="hyperref">Figure&nbsp;<span class="ref">2.4</span></a>).</p>
<div class="center figure" id="_fig-demo_blank_user_index_rails_3" data-tralics-id="uid131" data-number="2.4">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_blank_user_index_3rd_edition.png" alt="images/figures/demo_blank_user_index_3rd_edition"></div><div class="caption"><span class="header">Figure 2.4: </span><span class="description">The initial index page for the Users resource (<a href="http://localhost:3000/users" target="_blank">/users</a>).
</span></div></div>
<p>To make a new user, we visit the <a href="http://localhost:3000/users/new" target="_blank"><span class="tt">new</span></a> page, as shown in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_new_user_rails_3" class="hyperref">Figure&nbsp;<span class="ref">2.5</span></a>.<span class="intersentencespace"></span> (Since the http://0.0.0.0:3000 or cloud IDE part of the address is implicit whenever we are developing locally, I’ll omit it from now on.)<span class="intersentencespace"></span> In <a href="https://www.railstutorial.org/book/sign_up#cha-sign_up" class="hyperref">Chapter&nbsp;<span class="ref">7</span></a>, this will become the user signup page.</p>
<div class="center figure" id="_fig-demo_new_user_rails_3" data-tralics-id="uid132" data-number="2.5">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_new_user_3rd_edition.png" alt="images/figures/demo_new_user_3rd_edition"></div><div class="caption"><span class="header">Figure 2.5: </span><span class="description">The new user page (<a href="http://localhost:3000/users/new" target="_blank">/users/new</a>).
</span></div></div>
<p>We can create a user by entering name and email values in the text fields and then clicking the Create User button.<span class="intersentencespace"></span> The result is the user <a href="http://localhost:3000/users/1" target="_blank"><span class="tt">show</span></a> page, as seen in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_show_user_rails_3" class="hyperref">Figure&nbsp;<span class="ref">2.6</span></a>.<span class="intersentencespace"></span> (The green welcome message is accomplished using the <em>flash</em>, which we’ll learn about in <a href="https://www.railstutorial.org/book/sign_up#sec-the_flash" class="hyperref">Section&nbsp;<span class="ref">7.4.2</span></a>.)<span class="intersentencespace"></span> Note that the URL is <a href="http://localhost:3000/users/1" target="_blank">/users/1</a>; as you might suspect, the number&nbsp;<code>1</code> is simply the user’s&nbsp;<code>id</code> attribute from <a href="https://www.railstutorial.org/book/toy_app#fig-demo_user_model" class="hyperref">Figure&nbsp;<span class="ref">2.2</span></a>.<span class="intersentencespace"></span> In <a href="https://www.railstutorial.org/book/sign_up#sec-showing_users" class="hyperref">Section&nbsp;<span class="ref">7.1</span></a>, this page will become the user’s profile.</p>
<div class="center figure" id="_fig-demo_show_user_rails_3" data-tralics-id="uid133" data-number="2.6">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_show_user_3rd_edition.png" alt="images/figures/demo_show_user_3rd_edition"></div><div class="caption"><span class="header">Figure 2.6: </span><span class="description">The page to show a user (<a href="http://localhost:3000/users/1" target="_blank">/users/1</a>).
</span></div></div>
<p>To change a user’s information, we visit the <a href="http://localhost:3000/users/1/edit" target="_blank"><span class="tt">edit</span></a> page (<a href="https://www.railstutorial.org/book/toy_app#fig-demo_edit_user_rails_3" class="hyperref">Figure&nbsp;<span class="ref">2.7</span></a>).<span class="intersentencespace"></span> By modifying the user information and clicking the Update User button, we arrange to change the information for the user in the toy application (<a href="https://www.railstutorial.org/book/toy_app#fig-demo_update_user_rails_3" class="hyperref">Figure&nbsp;<span class="ref">2.8</span></a>).<span class="intersentencespace"></span> (As we’ll see in detail starting in <a href="https://www.railstutorial.org/book/modeling_users#cha-modeling_users" class="hyperref">Chapter&nbsp;<span class="ref">6</span></a>, this user data is stored in a database back-end.)<span class="intersentencespace"></span> We’ll add user edit/update functionality to the sample application in <a href="https://www.railstutorial.org/book/updating_and_deleting_users#sec-updating_users" class="hyperref">Section&nbsp;<span class="ref">9.1</span></a>.</p>
<div class="center figure" id="_fig-demo_edit_user_rails_3" data-tralics-id="uid134" data-number="2.7">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_edit_user_3rd_edition.png" alt="images/figures/demo_edit_user_3rd_edition"></div><div class="caption"><span class="header">Figure 2.7: </span><span class="description">The user edit page (<a href="http://localhost:3000/users/1/edit" target="_blank">/users/1/edit</a>).
</span></div></div>
<div class="center figure" id="_fig-demo_update_user_rails_3" data-tralics-id="uid135" data-number="2.8">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_update_user_3rd_edition.png" alt="images/figures/demo_update_user_3rd_edition"></div><div class="caption"><span class="header">Figure 2.8: </span><span class="description">A user with updated information.
</span></div></div>
<p>Now we’ll create a second user by revisiting the <a href="http://localhost:3000/users/new" target="_blank"><span class="tt">new</span></a> page and submitting a second set of user information; the resulting user <a href="http://localhost:3000/users" target="_blank"><span class="tt">index</span></a> is shown in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_user_index_two_rails_3" class="hyperref">Figure&nbsp;<span class="ref">2.9</span></a>.<span class="intersentencespace"></span> <a href="https://www.railstutorial.org/book/sign_up#sec-showing_users" class="hyperref">Section&nbsp;<span class="ref">7.1</span></a> will develop the user index into a more polished page for showing all users.</p>
<div class="center figure" id="_fig-demo_user_index_two_rails_3" data-tralics-id="uid136" data-number="2.9">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_user_index_two_3rd_edition.png" alt="images/figures/demo_user_index_two_3rd_edition"></div><div class="caption"><span class="header">Figure 2.9: </span><span class="description">The user index page (<a href="http://localhost:3000/users" target="_blank">/users</a>) with a second user.
</span></div></div>
<p>Having shown how to create, show, and edit users, we come finally to destroying them (<a href="https://www.railstutorial.org/book/toy_app#fig-demo_destroy_user" class="hyperref">Figure&nbsp;<span class="ref">2.10</span></a>).<span class="intersentencespace"></span> You should verify that clicking on the link in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_destroy_user" class="hyperref">Figure&nbsp;<span class="ref">2.10</span></a> destroys the second user, yielding an index page with only one user.<span class="intersentencespace"></span> (If it doesn’t work, be sure that JavaScript is enabled in your browser; Rails uses JavaScript to issue the request needed to destroy a user.)<span class="intersentencespace"></span> <a href="https://www.railstutorial.org/book/updating_and_deleting_users#sec-deleting_users" class="hyperref">Section&nbsp;<span class="ref">9.4</span></a> adds user deletion to the sample app, taking care to restrict its use to a special class of administrative users.</p>
<div class="center figure" id="_fig-demo_destroy_user" data-tralics-id="uid137" data-number="2.10">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_destroy_user_3rd_edition.png" alt="images/figures/demo_destroy_user_3rd_edition"></div><div class="caption"><span class="header">Figure 2.10: </span><span class="description">Destroying a user.
</span></div></div>
</div>
<div id="_sec-mvc_in_action" data-tralics-id="uid138" class="subsection" data-number="2.2.2"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-mvc_in_action" class="heading hyperref"><span class="number">2.2.2 </span>MVC in action</a></h3>
<p>Now that we’ve completed a quick overview of the Users resource, let’s examine one particular part of it in the context of the Model-View-Controller (MVC) pattern introduced in <a href="https://www.railstutorial.org/book/beginning#sec-mvc" class="hyperref">Section&nbsp;<span class="ref">1.3.3</span></a>.<span class="intersentencespace"></span> Our strategy will be to describe the results of a typical browser hit—a visit to the user index page at <a href="http://localhost:3000/users" target="_blank">/users</a>—in terms of MVC (<a href="https://www.railstutorial.org/book/toy_app#fig-mvc_detailed" class="hyperref">Figure&nbsp;<span class="ref">2.11</span></a>).</p>
<div class="center figure" id="_fig-mvc_detailed" data-tralics-id="uid139" data-number="2.11">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/mvc_detailed.png" alt="images/figures/mvc_detailed"></div><div class="caption"><span class="header">Figure 2.11: </span><span class="description">A detailed diagram of MVC in Rails.
</span></div></div>
<p>Here is a summary of the steps shown in <a href="https://www.railstutorial.org/book/toy_app#fig-mvc_detailed" class="hyperref">Figure&nbsp;<span class="ref">2.11</span></a>:</p>
<ol>
<li>The browser issues a request for the /users URL.
</li>
<li>Rails routes /users to the <code>index</code> action in the Users controller.<span class="intersentencespace"></span>
</li>
<li>The <code>index</code> action asks the User model to retrieve all users (<code>User.all</code>).<span class="intersentencespace"></span>
</li>
<li>The User model pulls all the users from the database.<span class="intersentencespace"></span>
</li>
<li>The User model returns the list of users to the controller.<span class="intersentencespace"></span>
</li>
<li>The controller captures the users in the <code>@users</code> variable, which is passed to the <code>index</code> view.<span class="intersentencespace"></span>
</li>
<li>The view uses embedded Ruby to render the page as HTML.
</li>
<li>The controller passes the HTML back to the browser.<sup id="_cha-2_footnote-ref-5" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-5">5</a></sup>
</li></ol>
<p>Now let’s take a look at the above steps in more detail.<span class="intersentencespace"></span> We start with a request issued from the browser—i.e., the result of typing a URL in the address bar or clicking on a link (Step&nbsp;1 in <a href="https://www.railstutorial.org/book/toy_app#fig-mvc_detailed" class="hyperref">Figure&nbsp;<span class="ref">2.11</span></a>).<span class="intersentencespace"></span> This request hits the <em>Rails router</em> (Step&nbsp;2), which dispatches to the proper <em>controller action</em> based on the URL (and, as we’ll see in <a href="https://www.railstutorial.org/book/static_pages#aside-get_etc" class="hyperref">Box&nbsp;<span class="ref">3.2</span></a>, the type of request).<span class="intersentencespace"></span> The code to create the mapping of user URLs to controller actions for the Users resource appears in <a href="https://www.railstutorial.org/book/toy_app#code-rails_routes" class="hyperref">Listing&nbsp;<span class="ref">2.2</span></a>; this code effectively sets up the table of URL/action pairs seen in <a href="https://www.railstutorial.org/book/toy_app#table-user_urls" class="hyperref">Table&nbsp;<span class="ref">2.1</span></a>.<span class="intersentencespace"></span> (The strange notation <code>:users</code> is a <em>symbol</em>, which we’ll learn about in <a href="https://www.railstutorial.org/book/rails_flavored_ruby#sec-hashes_and_symbols" class="hyperref">Section&nbsp;<span class="ref">4.3.3</span></a>.)</p>
<div class="codelisting" id="_code-rails_routes" data-tralics-id="uid149" data-number="2.2"><div class="heading"><span class="number">Listing 2.2:</span> 

<span class="description">The Rails routes, with a rule for the Users resource.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">config/routes.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="no">Rails</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
<span class="hll">  <span class="n">resources</span> <span class="ss">:users</span>
</span>  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><p>While we’re looking at the routes file, let’s take a moment to associate the root route with the users index, so that “slash” goes to /users.<span class="intersentencespace"></span> Recall from <a href="https://www.railstutorial.org/book/beginning#code-hello_root_route" class="hyperref">Listing&nbsp;<span class="ref">1.10</span></a> that we changed</p>
<div class="code"><div class="highlight"><pre><span class="c1"># root 'welcome#index'</span>
</pre></div></div>
<p>to read</p>
<div class="code"><div class="highlight"><pre><span class="n">root</span> <span class="s1">'application#hello'</span>
</pre></div></div>
<p>so that the root route went to the <code>hello</code> action in the Application controller.<span class="intersentencespace"></span> In the present case, we want to use the <code>index</code> action in the Users controller, which we can arrange using the code shown in <a href="https://www.railstutorial.org/book/toy_app#code-rails_routes_root_route" class="hyperref">Listing&nbsp;<span class="ref">2.3</span></a>.<span class="intersentencespace"></span> (At this point, I also recommend removing the <code>hello</code> action from the Application controller if you added it at the beginning of this section.)</p>
<div class="codelisting" id="_code-rails_routes_root_route" data-tralics-id="uid150" data-number="2.3"><div class="heading"><span class="number">Listing 2.3:</span> 

<span class="description">Adding a root route for users.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">config/routes.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="no">Rails</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
  <span class="n">resources</span> <span class="ss">:users</span>
<span class="hll">  <span class="n">root</span> <span class="s1">'users#index'</span>
</span>  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><p>The pages from the tour in <a href="https://www.railstutorial.org/book/toy_app#sec-a_user_tour" class="hyperref">Section&nbsp;<span class="ref">2.2.1</span></a> correspond to <em>actions</em> in the Users <em>controller</em>, which is a collection of related actions.<span class="intersentencespace"></span> The controller generated by the scaffolding is shown schematically in <a href="https://www.railstutorial.org/book/toy_app#code-demo_users_controller" class="hyperref">Listing&nbsp;<span class="ref">2.4</span></a>.<span class="intersentencespace"></span> Note the notation <code>class UsersController &lt; ApplicationController</code>, which is an example of a Ruby <em>class</em> with <em>inheritance</em>.<span class="intersentencespace"></span> (We’ll discuss inheritance briefly in <a href="https://www.railstutorial.org/book/toy_app#sec-inheritance_hierarchies" class="hyperref">Section&nbsp;<span class="ref">2.3.4</span></a> and cover both subjects in more detail in <a href="https://www.railstutorial.org/book/rails_flavored_ruby#sec-ruby_classes" class="hyperref">Section&nbsp;<span class="ref">4.4</span></a>.)</p>
<div class="codelisting" id="_code-demo_users_controller" data-tralics-id="uid151" data-number="2.4"><div class="heading"><span class="number">Listing 2.4:</span> 

<span class="description">The Users controller in schematic form.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/controllers/users_controller.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">new</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">edit</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">create</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">update</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div></div><p>You may notice that there are more actions than there are pages; the <code>index</code>, <code>show</code>, <code>new</code>, and <code>edit</code> actions all correspond to pages from <a href="https://www.railstutorial.org/book/toy_app#sec-a_user_tour" class="hyperref">Section&nbsp;<span class="ref">2.2.1</span></a>, but there are additional <code>create</code>, <code>update</code>, and <code>destroy</code> actions as well.<span class="intersentencespace"></span> These actions don’t typically render pages (although they can); instead, their main purpose is to modify information about users in the database.<span class="intersentencespace"></span> This full suite of controller actions, summarized in <a href="https://www.railstutorial.org/book/toy_app#table-demo_RESTful_users" class="hyperref">Table&nbsp;<span class="ref">2.2</span></a>, represents the implementation of the REST architecture in Rails (<a href="https://www.railstutorial.org/book/toy_app#aside-REST" class="hyperref">Box&nbsp;<span class="ref">2.2</span></a>), which is based on the ideas of <em>representational state transfer</em> identified and named by computer scientist <a href="http://en.wikipedia.org/wiki/Roy_Fielding" target="_blank">Roy Fielding</a>.<sup id="_cha-2_footnote-ref-6" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-6">6</a></sup><span class="intersentencespace"></span> Note from <a href="https://www.railstutorial.org/book/toy_app#table-demo_RESTful_users" class="hyperref">Table&nbsp;<span class="ref">2.2</span></a> that there is some overlap in the URLs; for example, both the user <code>show</code> action and the <code>update</code> action correspond to the URL /users/1.<span class="intersentencespace"></span> The difference between them is the <a href="http://en.wikipedia.org/wiki/HTTP_request#Request_methods" target="_blank">HTTP request method</a> they respond to.<span class="intersentencespace"></span> We’ll learn more about HTTP request methods starting in <a href="https://www.railstutorial.org/book/static_pages#sec-getting_started_with_testing" class="hyperref">Section&nbsp;<span class="ref">3.3</span></a>.</p>
<div class="table" id="_table-demo_RESTful_users" data-tralics-id="uid153" data-number="2.2"><table class="tabular">
<tbody><tr class="bottom_border"><td class="align_left"><strong>HTTP request</strong></td>
<td class="align_left"><strong>URL</strong></td>
<td class="align_left"><strong>Action</strong></td>
<td class="align_left"><strong>Purpose</strong></td>
</tr><tr><td class="align_left"><span class="tt">GET</span></td>
<td class="align_left">/users</td>
<td class="align_left"><code>index</code></td>
<td class="align_left">page to list all users</td>
</tr><tr><td class="align_left"><span class="tt">GET</span></td>
<td class="align_left">/users/1</td>
<td class="align_left"><code>show</code></td>
<td class="align_left">page to show user with id <code>1</code></td>
</tr><tr><td class="align_left"><span class="tt">GET</span></td>
<td class="align_left">/users/new</td>
<td class="align_left"><code>new</code></td>
<td class="align_left">page to make a new user</td>
</tr><tr><td class="align_left"><span class="tt">POST</span></td>
<td class="align_left">/users</td>
<td class="align_left"><code>create</code></td>
<td class="align_left">create a new user</td>
</tr><tr><td class="align_left"><span class="tt">GET</span></td>
<td class="align_left">/users/1/edit</td>
<td class="align_left"><code>edit</code></td>
<td class="align_left">page to edit user with id <code>1</code></td>
</tr><tr><td class="align_left"><span class="tt">PATCH</span></td>
<td class="align_left">/users/1</td>
<td class="align_left"><code>update</code></td>
<td class="align_left">update user with id <code>1</code></td>
</tr><tr><td class="align_left"><span class="tt">DELETE</span></td>
<td class="align_left">/users/1</td>
<td class="align_left"><code>destroy</code></td>
<td class="align_left">delete user with id <code>1</code></td>
</tr></tbody></table><div class="caption"><span class="header">Table 2.2: </span><span class="description">RESTful routes provided by the Users resource in <a href="https://www.railstutorial.org/book/toy_app#code-rails_routes" class="hyperref">Listing&nbsp;<span class="ref">2.2</span></a>.
</span></div></div>
<div class="aside" id="_aside-REST" data-tralics-id="uid154" data-number="2.2"><div class="heading"><span class="number">Box 2.2.</span> 

<span class="description">REpresentational State Transfer (REST)</span></div>
<p>If you read much about Ruby on Rails web development, you’ll see a lot of references to “REST”, which is an acronym for REpresentational State Transfer.<span class="intersentencespace"></span> REST is an architectural style for developing distributed, networked systems and software applications such as the World Wide Web and web applications.<span class="intersentencespace"></span> Although REST theory is rather abstract, in the context of Rails applications REST means that most application components (such as users and microposts) are modeled as <em>resources</em> that can be created, read, updated, and deleted—operations that correspond both to the <a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete" target="_blank">CRUD operations of relational databases</a> and to the four fundamental <a href="http://en.wikipedia.org/wiki/HTTP_request#Request_methods" target="_blank">HTTP request methods</a>: <span class="tt">POST</span>, <span class="tt">GET</span>, <span class="tt">PATCH</span>, and <span class="tt">DELETE</span>.<sup id="_cha-2_footnote-ref-7" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-7">7</a></sup><span class="intersentencespace"></span> (We’ll learn more about HTTP requests in <a href="https://www.railstutorial.org/book/static_pages#sec-getting_started_with_testing" class="hyperref">Section&nbsp;<span class="ref">3.3</span></a> and especially <a href="https://www.railstutorial.org/book/static_pages#aside-get_etc" class="hyperref">Box&nbsp;<span class="ref">3.2</span></a>.)</p>
<p>As a Rails application developer, the RESTful style of development helps you make choices about which controllers and actions to write: you simply structure the application using resources that get created, read, updated, and deleted.<span class="intersentencespace"></span> In the case of users and microposts, this process is straightforward, since they are naturally resources in their own right.<span class="intersentencespace"></span> In <a href="https://www.railstutorial.org/book/following_users#cha-following_users" class="hyperref">Chapter&nbsp;<span class="ref">12</span></a>, we’ll see an example where REST principles allow us to model a subtler problem, “following users”, in a natural and convenient way.</p>

</div><p>To examine the relationship between the Users controller and the User model, let’s focus on a simplified version of the <code>index</code> action, shown in <a href="https://www.railstutorial.org/book/toy_app#code-demo_index_action" class="hyperref">Listing&nbsp;<span class="ref">2.5</span></a>.<span class="intersentencespace"></span> (The scaffold code is ugly and confusing, so I’ve suppressed it.)</p>
<div class="codelisting" id="_code-demo_index_action" data-tralics-id="uid156" data-number="2.5"><div class="heading"><span class="number">Listing 2.5:</span> 

<span class="description">The simplified user <code>index</code> action for the toy application.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/controllers/users_controller.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="k">def</span> <span class="nf">index</span>
<span class="hll">    <span class="vi">@users</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">all</span>
</span>  <span class="k">end</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><p>This <code>index</code> action has the line <code>@users = User.all</code> (Step&nbsp;3 in <a href="https://www.railstutorial.org/book/toy_app#fig-mvc_detailed" class="hyperref">Figure&nbsp;<span class="ref">2.11</span></a>), which asks the User model to retrieve a list of all the users from the database (Step&nbsp;4), and then places them in the variable <code>@users</code> (pronounced “at-users”) (Step&nbsp;5).<span class="intersentencespace"></span> The User model itself appears in <a href="https://www.railstutorial.org/book/toy_app#code-demo_user_model" class="hyperref">Listing&nbsp;<span class="ref">2.6</span></a>; although it is rather plain, it comes equipped with a large amount of functionality because of inheritance (<a href="https://www.railstutorial.org/book/toy_app#sec-inheritance_hierarchies" class="hyperref">Section&nbsp;<span class="ref">2.3.4</span></a> and <a href="https://www.railstutorial.org/book/rails_flavored_ruby#sec-ruby_classes" class="hyperref">Section&nbsp;<span class="ref">4.4</span></a>).<span class="intersentencespace"></span> In particular, by using the Rails library called <em>Active Record</em>, the code in <a href="https://www.railstutorial.org/book/toy_app#code-demo_user_model" class="hyperref">Listing&nbsp;<span class="ref">2.6</span></a> arranges for <code>User.all</code> to return all the users in the database.</p>
<div class="codelisting" id="_code-demo_user_model" data-tralics-id="uid157" data-number="2.6"><div class="heading"><span class="number">Listing 2.6:</span> 

<span class="description">The User model for the toy application.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/models/user.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
<span class="k">end</span>
</pre></div></div></div><p>Once the <code>@users</code> variable is defined, the controller calls the <em>view</em> (Step&nbsp;6), shown in <a href="https://www.railstutorial.org/book/toy_app#code-demo_index_view" class="hyperref">Listing&nbsp;<span class="ref">2.7</span></a>.<span class="intersentencespace"></span> Variables that start with the <code>@</code>&nbsp;sign, called <em>instance variables</em>, are automatically available in the views; in this case, the <code>index.html.erb</code> view in <a href="https://www.railstutorial.org/book/toy_app#code-demo_index_view" class="hyperref">Listing&nbsp;<span class="ref">2.7</span></a> iterates through the <code>@users</code> list and outputs a line of HTML for each one.<span class="intersentencespace"></span> (Remember, you aren’t supposed to understand this code right now.<span class="intersentencespace"></span> It is shown only for purposes of illustration.)</p>
<div class="codelisting" id="_code-demo_index_view" data-tralics-id="uid158" data-number="2.7"><div class="heading"><span class="number">Listing 2.7:</span> 

<span class="description">The view for the user index.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/views/users/index.html.erb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span>Listing users<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;table&gt;</span>
  <span class="nt">&lt;thead&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;th&gt;</span>Name<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th&gt;</span>Email<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">colspan=</span><span class="s">"3"</span><span class="nt">&gt;&lt;/th&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/thead&gt;</span>

<span class="hll"><span class="cp">&lt;%</span> <span class="vi">@users</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span> <span class="cp">%&gt;</span>
</span>  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Show'</span><span class="p">,</span> <span class="n">user</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Edit'</span><span class="p">,</span> <span class="n">edit_user_path</span><span class="p">(</span><span class="n">user</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Destroy'</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="nb">method</span><span class="p">:</span> <span class="ss">:delete</span><span class="p">,</span>
                                     <span class="ss">data</span><span class="p">:</span> <span class="p">{</span> <span class="ss">confirm</span><span class="p">:</span> <span class="s1">'Are you sure?'</span> <span class="p">}</span> <span class="cp">%&gt;</span><span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
<span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;/table&gt;</span>

<span class="nt">&lt;br&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s1">'New User'</span><span class="p">,</span> <span class="n">new_user_path</span> <span class="cp">%&gt;</span>
</pre></div></div></div><p>The view converts its contents to HTML (Step&nbsp;7), which is then returned by the controller to the browser for display (Step&nbsp;8).</p>
</div>
<div id="_sec-weaknesses_of_this_users_resource" data-tralics-id="uid159" class="subsection" data-number="2.2.3"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-weaknesses_of_this_users_resource" class="heading hyperref"><span class="number">2.2.3 </span>Weaknesses of this Users resource</a></h3>
<p>Though good for getting a general overview of Rails, the scaffold Users resource suffers from a number of severe weaknesses.</p>
<ul>
<li><strong>No data validations.</strong><span class="intersentencespace"></span> Our User model accepts data such as blank names and invalid email addresses without complaint.<span class="intersentencespace"></span>
</li>
<li><strong>No authentication.</strong><span class="intersentencespace"></span> We have no notion of logging in or out, and no way to prevent any user from performing any operation.<span class="intersentencespace"></span>
</li>
<li><strong>No tests.</strong><span class="intersentencespace"></span> This isn’t technically true—the scaffolding includes rudimentary tests—but the generated tests don’t test for data validation, authentication, or any other custom requirements.<span class="intersentencespace"></span>
</li>
<li><strong>No style or layout.</strong><span class="intersentencespace"></span> There is no consistent site styling or navigation.<span class="intersentencespace"></span>
</li>
<li><strong>No real understanding.</strong><span class="intersentencespace"></span> If you understand the scaffold code, you probably shouldn’t be reading this book.<span class="intersentencespace"></span>
</li></ul>
</div></div><div id="_sec-microposts_resource" data-tralics-id="cid12" class="section" data-number="2.3"><h2><a href="https://www.railstutorial.org/book/toy_app#sec-microposts_resource" class="heading hyperref"><span class="number">2.3 </span>The Microposts resource</a></h2>
<p>Having generated and explored the Users resource, we turn now to the associated Microposts resource.<span class="intersentencespace"></span> Throughout this section, I recommend comparing the elements of the Microposts resource with the analogous user elements from <a href="https://www.railstutorial.org/book/toy_app#sec-demo_users_resource" class="hyperref">Section&nbsp;<span class="ref">2.2</span></a>; you should see that the two resources parallel each other in many ways.<span class="intersentencespace"></span> The RESTful structure of Rails applications is best absorbed by this sort of repetition of form—indeed, seeing the parallel structure of Users and Microposts even at this early stage is one of the prime motivations for this chapter.</p>
<div id="_sec-a_micropost_microtour" data-tralics-id="uid165" class="subsection" data-number="2.3.1"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-a_micropost_microtour" class="heading hyperref"><span class="number">2.3.1 </span>A micropost microtour</a></h3>
<p>As with the Users resource, we’ll generate scaffold code for the Microposts resource using <code>rails generate scaffold</code>, in this case implementing the data model from <a href="https://www.railstutorial.org/book/toy_app#fig-demo_micropost_model" class="hyperref">Figure&nbsp;<span class="ref">2.3</span></a>:<sup id="_cha-2_footnote-ref-8" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-8">8</a></sup></p>
<div class="code"><div class="highlight"><pre><span class="hll">$ rails generate scaffold Micropost content:text user_id:integer
</span>      invoke  active_record
      create    db/migrate/20140821012832_create_microposts.rb
      create    app/models/micropost.rb
      invoke    test_unit
      create      test/models/micropost_test.rb
      create      test/fixtures/microposts.yml
      invoke  resource_route
       route    resources :microposts
      invoke  scaffold_controller
      create    app/controllers/microposts_controller.rb
      invoke    erb
      create      app/views/microposts
      create      app/views/microposts/index.html.erb
      create      app/views/microposts/edit.html.erb
      create      app/views/microposts/show.html.erb
      create      app/views/microposts/new.html.erb
      create      app/views/microposts/_form.html.erb
      invoke    test_unit
      create      test/controllers/microposts_controller_test.rb
      invoke    helper
      create      app/helpers/microposts_helper.rb
      invoke      test_unit
      create        test/helpers/microposts_helper_test.rb
      invoke    jbuilder
      create      app/views/microposts/index.json.jbuilder
      create      app/views/microposts/show.json.jbuilder
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/microposts.js.coffee
      invoke    scss
      create      app/assets/stylesheets/microposts.css.scss
      invoke  scss
   identical    app/assets/stylesheets/scaffolds.css.scss
</pre></div></div>
<p>(If you get an error related to Spring, just run the command again.)<span class="intersentencespace"></span> To update our database with the new data model, we need to run a migration as in <a href="https://www.railstutorial.org/book/toy_app#sec-demo_users_resource" class="hyperref">Section&nbsp;<span class="ref">2.2</span></a>:</p>
<div class="code"><div class="highlight"><pre><span class="hll">$ bundle exec rake db:migrate
</span>==  CreateMicroposts: migrating ===============================================
-- create_table(:microposts)
   -&gt; 0.0023s
==  CreateMicroposts: migrated (0.0026s) ======================================
</pre></div></div>
<p>Now we are in a position to create microposts in the same way we created users in <a href="https://www.railstutorial.org/book/toy_app#sec-a_user_tour" class="hyperref">Section&nbsp;<span class="ref">2.2.1</span></a>.<span class="intersentencespace"></span> As you might guess, the scaffold generator has updated the Rails routes file with a rule for Microposts resource, as seen in <a href="https://www.railstutorial.org/book/toy_app#code-demo_microposts_resource" class="hyperref">Listing&nbsp;<span class="ref">2.8</span></a>.<sup id="_cha-2_footnote-ref-9" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-9">9</a></sup><span class="intersentencespace"></span> As with users, the <code>resources :microposts</code> routing rule maps micropost URLs to actions in the Microposts controller, as seen in <a href="https://www.railstutorial.org/book/toy_app#table-demo_RESTful_microposts" class="hyperref">Table&nbsp;<span class="ref">2.3</span></a>.</p>
<div class="codelisting" id="_code-demo_microposts_resource" data-tralics-id="uid168" data-number="2.8"><div class="heading"><span class="number">Listing 2.8:</span> 

<span class="description">The Rails routes, with a new rule for Microposts resources.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">config/routes.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="no">Rails</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
<span class="hll">  <span class="n">resources</span> <span class="ss">:microposts</span>
</span>  <span class="n">resources</span> <span class="ss">:users</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><div class="table" id="_table-demo_RESTful_microposts" data-tralics-id="uid169" data-number="2.3"><table class="tabular">
<tbody><tr class="bottom_border"><td class="align_left"><strong>HTTP request</strong></td>
<td class="align_left"><strong>URL</strong></td>
<td class="align_left"><strong>Action</strong></td>
<td class="align_left"><strong>Purpose</strong></td>
</tr><tr><td class="align_left"><span class="tt">GET</span></td>
<td class="align_left">/microposts</td>
<td class="align_left"><code>index</code></td>
<td class="align_left">page to list all microposts</td>
</tr><tr><td class="align_left"><span class="tt">GET</span></td>
<td class="align_left">/microposts/1</td>
<td class="align_left"><code>show</code></td>
<td class="align_left">page to show micropost with id <code>1</code></td>
</tr><tr><td class="align_left"><span class="tt">GET</span></td>
<td class="align_left">/microposts/new</td>
<td class="align_left"><code>new</code></td>
<td class="align_left">page to make a new micropost</td>
</tr><tr><td class="align_left"><span class="tt">POST</span></td>
<td class="align_left">/microposts</td>
<td class="align_left"><code>create</code></td>
<td class="align_left">create a new micropost</td>
</tr><tr><td class="align_left"><span class="tt">GET</span></td>
<td class="align_left">/microposts/1/edit</td>
<td class="align_left"><code>edit</code></td>
<td class="align_left">page to edit micropost with id <code>1</code></td>
</tr><tr><td class="align_left"><span class="tt">PATCH</span></td>
<td class="align_left">/microposts/1</td>
<td class="align_left"><code>update</code></td>
<td class="align_left">update micropost with id <code>1</code></td>
</tr><tr><td class="align_left"><span class="tt">DELETE</span></td>
<td class="align_left">/microposts/1</td>
<td class="align_left"><code>destroy</code></td>
<td class="align_left">delete micropost with id <code>1</code></td>
</tr></tbody></table><div class="caption"><span class="header">Table 2.3: </span><span class="description">RESTful routes provided by the Microposts resource in <a href="https://www.railstutorial.org/book/toy_app#code-demo_microposts_resource" class="hyperref">Listing&nbsp;<span class="ref">2.8</span></a>.
</span></div></div>
<p>The Microposts controller itself appears in schematic form <a href="https://www.railstutorial.org/book/toy_app#code-demo_microposts_controller" class="hyperref">Listing&nbsp;<span class="ref">2.9</span></a>.<span class="intersentencespace"></span> Note that, apart from having <code>MicropostsController</code> in place of <code>UsersController</code>, <a href="https://www.railstutorial.org/book/toy_app#code-demo_microposts_controller" class="hyperref">Listing&nbsp;<span class="ref">2.9</span></a> is <em>identical</em> to the code in <a href="https://www.railstutorial.org/book/toy_app#code-demo_users_controller" class="hyperref">Listing&nbsp;<span class="ref">2.4</span></a>.<span class="intersentencespace"></span> This is a reflection of the REST architecture common to both resources.</p>
<div class="codelisting" id="_code-demo_microposts_controller" data-tralics-id="uid170" data-number="2.9"><div class="heading"><span class="number">Listing 2.9:</span> 

<span class="description">The Microposts controller in schematic form.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/controllers/microposts_controller.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MicropostsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">new</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">edit</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">create</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">update</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div></div></div><p>To make some actual microposts, we enter information at the new microposts page, <a href="http://localhost:3000/microposts/new" target="_blank">/microposts/new</a>, as seen in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_new_micropost" class="hyperref">Figure&nbsp;<span class="ref">2.12</span></a>.</p>
<div class="center figure" id="_fig-demo_new_micropost" data-tralics-id="uid171" data-number="2.12">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_new_micropost_3rd_edition.png" alt="images/figures/demo_new_micropost_3rd_edition"></div><div class="caption"><span class="header">Figure 2.12: </span><span class="description">The new micropost page (<a href="http://localhost:3000/microposts/new" target="_blank">/microposts/new</a>).
</span></div></div>
<p>At this point, go ahead and create a micropost or two, taking care to make sure that at least one has a <code>user_id</code> of&nbsp;<code>1</code> to match the id of the first user created in <a href="https://www.railstutorial.org/book/toy_app#sec-a_user_tour" class="hyperref">Section&nbsp;<span class="ref">2.2.1</span></a>.<span class="intersentencespace"></span> The result should look something like <a href="https://www.railstutorial.org/book/toy_app#fig-demo_micropost_index" class="hyperref">Figure&nbsp;<span class="ref">2.13</span></a>.</p>
<div class="center figure" id="_fig-demo_micropost_index" data-tralics-id="uid172" data-number="2.13">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_micropost_index_3rd_edition.png" alt="images/figures/demo_micropost_index_3rd_edition"></div><div class="caption"><span class="header">Figure 2.13: </span><span class="description">The micropost index page (<a href="http://localhost:3000/microposts" target="_blank">/microposts</a>).
</span></div></div>
</div>
<div id="_sec-putting_the_micro_in_microposts" data-tralics-id="uid173" class="subsection" data-number="2.3.2"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-putting_the_micro_in_microposts" class="heading hyperref"><span class="number">2.3.2 </span>Putting the <em>micro</em> in microposts</a></h3>
<p>Any <em>micro</em>post worthy of the name should have some means of enforcing the length of the post.<span class="intersentencespace"></span> Implementing this constraint in Rails is easy with <em>validations</em>; to accept microposts with at most 140 characters (à la Twitter), we use a <em>length</em> validation.<span class="intersentencespace"></span> At this point, you should open the file <code>app/models/micropost.rb</code> in your text editor or IDE and fill it with the contents of <a href="https://www.railstutorial.org/book/toy_app#code-demo_length_validation" class="hyperref">Listing&nbsp;<span class="ref">2.10</span></a>.</p>
<div class="codelisting" id="_code-demo_length_validation" data-tralics-id="uid174" data-number="2.10"><div class="heading"><span class="number">Listing 2.10:</span> 

<span class="description">Constraining microposts to be at most 140 characters.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/models/micropost.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Micropost</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
<span class="hll">  <span class="n">validates</span> <span class="ss">:content</span><span class="p">,</span> <span class="ss">length</span><span class="p">:</span> <span class="p">{</span> <span class="ss">maximum</span><span class="p">:</span> <span class="mi">140</span> <span class="p">}</span>
</span><span class="k">end</span>
</pre></div></div></div><p>The code in <a href="https://www.railstutorial.org/book/toy_app#code-demo_length_validation" class="hyperref">Listing&nbsp;<span class="ref">2.10</span></a> may look rather mysterious—we’ll cover validations more thoroughly starting in <a href="https://www.railstutorial.org/book/modeling_users#sec-user_validations" class="hyperref">Section&nbsp;<span class="ref">6.2</span></a>—but its effects are readily apparent if we go to the new micropost page and enter more than 140 characters for the content of the post.<span class="intersentencespace"></span> As seen in <a href="https://www.railstutorial.org/book/toy_app#fig-micropost_length_error" class="hyperref">Figure&nbsp;<span class="ref">2.14</span></a>, Rails renders <em>error messages</em> indicating that the micropost’s content is too long.<span class="intersentencespace"></span> (We’ll learn more about error messages in <a href="https://www.railstutorial.org/book/sign_up#sec-signup_error_messages" class="hyperref">Section&nbsp;<span class="ref">7.3.3</span></a>.)</p>
<div class="center figure" id="_fig-micropost_length_error" data-tralics-id="uid175" data-number="2.14">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/micropost_length_error_3rd_edition.png" alt="images/figures/micropost_length_error_3rd_edition"></div><div class="caption"><span class="header">Figure 2.14: </span><span class="description">Error messages for a failed micropost creation.
</span></div></div>
</div>
<div id="_sec-demo_user_has_many_microposts" data-tralics-id="uid176" class="subsection" data-number="2.3.3"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-demo_user_has_many_microposts" class="heading hyperref"><span class="number">2.3.3 </span>A user <span class="tt">has_many</span> microposts</a></h3>
<p>One of the most powerful features of Rails is the ability to form <em>associations</em> between different data models.<span class="intersentencespace"></span> In the case of our User model, each user potentially has many microposts.<span class="intersentencespace"></span> We can express this in code by updating the User and Micropost models as in <a href="https://www.railstutorial.org/book/toy_app#code-demo_user_has_many_microposts" class="hyperref">Listing&nbsp;<span class="ref">2.11</span></a> and <a href="https://www.railstutorial.org/book/toy_app#code-demo_micropost_belongs_to_user" class="hyperref">Listing&nbsp;<span class="ref">2.12</span></a>.</p>
<div class="codelisting" id="_code-demo_user_has_many_microposts" data-tralics-id="uid177" data-number="2.11"><div class="heading"><span class="number">Listing 2.11:</span> 

<span class="description">A user has many microposts.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/models/user.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
<span class="hll">  <span class="n">has_many</span> <span class="ss">:microposts</span>
</span><span class="k">end</span>
</pre></div></div></div><div class="codelisting" id="_code-demo_micropost_belongs_to_user" data-tralics-id="uid178" data-number="2.12"><div class="heading"><span class="number">Listing 2.12:</span> 

<span class="description">A micropost belongs to a user.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/models/micropost.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Micropost</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
<span class="hll">  <span class="n">belongs_to</span> <span class="ss">:user</span>
</span>  <span class="n">validates</span> <span class="ss">:content</span><span class="p">,</span> <span class="ss">length</span><span class="p">:</span> <span class="p">{</span> <span class="ss">maximum</span><span class="p">:</span> <span class="mi">140</span> <span class="p">}</span>
<span class="k">end</span>
</pre></div></div></div><p>We can visualize the result of this association in <a href="https://www.railstutorial.org/book/toy_app#fig-micropost_user_association" class="hyperref">Figure&nbsp;<span class="ref">2.15</span></a>.<span class="intersentencespace"></span> Because of the <code>user_id</code> column in the <code>microposts</code> table, Rails (using Active Record) can infer the microposts associated with each user.</p>
<div class="center figure" id="_fig-micropost_user_association" data-tralics-id="uid179" data-number="2.15">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/micropost_user_association.png" alt="images/figures/micropost_user_association"></div><div class="caption"><span class="header">Figure 2.15: </span><span class="description">The association between microposts and users.
</span></div></div>
<p>In <a href="https://www.railstutorial.org/book/user_microposts#cha-user_microposts" class="hyperref">Chapter&nbsp;<span class="ref">11</span></a> and <a href="https://www.railstutorial.org/book/following_users#cha-following_users" class="hyperref">Chapter&nbsp;<span class="ref">12</span></a>, we will use the association of users and microposts both to display all of a user’s microposts and to construct a Twitter-like micropost feed.<span class="intersentencespace"></span> For now, we can examine the implications of the user-micropost association by using the <em>console</em>, which is a useful tool for interacting with Rails applications.<span class="intersentencespace"></span> We first invoke the console with <code>rails console</code> at the command line, and then retrieve the first user from the database using <code>User.first</code> (putting the results in the variable <code>first_user</code>):<sup id="_cha-2_footnote-ref-10" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-10">10</a></sup></p>
<div class="code"><div class="highlight"><pre><span class="hll"><span class="go">$ rails console</span>
</span><span class="gp">&gt;&gt; </span><span class="n">first_user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">first</span>
<span class="go">=&gt; #&lt;User id: 1, name: "Michael Hartl", email: "michael@example.org",</span>
<span class="go">created_at: "2014-07-21 02:01:31", updated_at: "2014-07-21 02:01:31"&gt;</span>
<span class="gp">&gt;&gt; </span><span class="n">first_user</span><span class="o">.</span><span class="n">microposts</span>
<span class="go">=&gt; [#&lt;Micropost id: 1, content: "First micropost!", user_id: 1, created_at:</span>
<span class="go">"2014-07-21 02:37:37", updated_at: "2014-07-21 02:37:37"&gt;, #&lt;Micropost id: 2,</span>
<span class="go">content: "Second micropost", user_id: 1, created_at: "2014-07-21 02:38:54",</span>
<span class="go">updated_at: "2014-07-21 02:38:54"&gt;]</span>
<span class="gp">&gt;&gt; </span><span class="n">micropost</span> <span class="o">=</span> <span class="n">first_user</span><span class="o">.</span><span class="n">microposts</span><span class="o">.</span><span class="n">first</span>    <span class="c1"># Micropost.first would also work.</span>
<span class="go">=&gt; #&lt;Micropost id: 1, content: "First micropost!", user_id: 1, created_at:</span>
<span class="go">"2014-07-21 02:37:37", updated_at: "2014-07-21 02:37:37"&gt;</span>
<span class="gp">&gt;&gt; </span><span class="n">micropost</span><span class="o">.</span><span class="n">user</span>
<span class="go">=&gt; #&lt;User id: 1, name: "Michael Hartl", email: "michael@example.org",</span>
<span class="go">created_at: "2014-07-21 02:01:31", updated_at: "2014-07-21 02:01:31"&gt;</span>
<span class="gp">&gt;&gt; </span><span class="nb">exit</span>
</pre></div></div>
<p>(I include <code>exit</code> in the last line just to demonstrate how to exit the console.<span class="intersentencespace"></span> On most systems, you can also use Ctrl-D for the same purpose.)<sup id="_cha-2_footnote-ref-11" class="footnote"><a href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-11">11</a></sup> Here we have accessed the user’s microposts using the code <code>first_user.microposts</code>.<span class="intersentencespace"></span> With this code, Active Record automatically returns all the microposts with <code>user_id</code> equal to the id of <code>first_user</code> (in this case,&nbsp;<code>1</code>).<span class="intersentencespace"></span> We’ll learn much more about the association facilities in Active Record in <a href="https://www.railstutorial.org/book/user_microposts#cha-user_microposts" class="hyperref">Chapter&nbsp;<span class="ref">11</span></a> and <a href="https://www.railstutorial.org/book/following_users#cha-following_users" class="hyperref">Chapter&nbsp;<span class="ref">12</span></a>.</p>
</div>
<div id="_sec-inheritance_hierarchies" data-tralics-id="uid182" class="subsection" data-number="2.3.4"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-inheritance_hierarchies" class="heading hyperref"><span class="number">2.3.4 </span>Inheritance hierarchies</a></h3>
<p>We end our discussion of the toy application with a brief description of the controller and model class hierarchies in Rails.<span class="intersentencespace"></span> This discussion will only make much sense if you have some experience with object-oriented programming (OOP); if you haven’t studied OOP, feel free to skip this section.<span class="intersentencespace"></span> In particular, if you are unfamiliar with <em>classes</em> (discussed in <a href="https://www.railstutorial.org/book/rails_flavored_ruby#sec-ruby_classes" class="hyperref">Section&nbsp;<span class="ref">4.4</span></a>), I suggest looping back to this section at a later time.</p>
<p>We start with the inheritance structure for models.<span class="intersentencespace"></span> Comparing <a href="https://www.railstutorial.org/book/toy_app#code-demo_user_class" class="hyperref">Listing&nbsp;<span class="ref">2.13</span></a> and <a href="https://www.railstutorial.org/book/toy_app#code-demo_micropost_class" class="hyperref">Listing&nbsp;<span class="ref">2.14</span></a>, we see that both the User model and the Micropost model inherit (via the left angle bracket&nbsp;<code>&lt;</code>) from <code>ActiveRecord::Base</code>, which is the base class for models provided by ActiveRecord; a diagram summarizing this relationship appears in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_model_inheritance" class="hyperref">Figure&nbsp;<span class="ref">2.16</span></a>.<span class="intersentencespace"></span> It is by inheriting from <code>ActiveRecord::Base</code> that our model objects gain the ability to communicate with the database, treat the database columns as Ruby attributes, and so&nbsp;on.</p>
<div class="codelisting" id="_code-demo_user_class" data-tralics-id="uid183" data-number="2.13"><div class="heading"><span class="number">Listing 2.13:</span> 

<span class="description">The <code>User</code> class, highlighting inheritance.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/models/user.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="hll"><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span>  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><div class="codelisting" id="_code-demo_micropost_class" data-tralics-id="uid184" data-number="2.14"><div class="heading"><span class="number">Listing 2.14:</span> 

<span class="description">The <code>Micropost</code> class, highlighting inheritance.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/models/micropost.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="hll"><span class="k">class</span> <span class="nc">Micropost</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span>  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><div class="center figure" id="_fig-demo_model_inheritance" data-tralics-id="uid185" data-number="2.16">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_model_inheritance.png" alt="images/figures/demo_model_inheritance"></div><div class="caption"><span class="header">Figure 2.16: </span><span class="description">The inheritance hierarchy for the User and Micropost models.
</span></div></div>
<p>The inheritance structure for controllers is only slightly more complicated.<span class="intersentencespace"></span> Comparing <a href="https://www.railstutorial.org/book/toy_app#code-demo_users_controller_class" class="hyperref">Listing&nbsp;<span class="ref">2.15</span></a> and <a href="https://www.railstutorial.org/book/toy_app#code-demo_microposts_controller_class" class="hyperref">Listing&nbsp;<span class="ref">2.16</span></a>, we see that both the Users controller and the Microposts controller inherit from the Application controller.<span class="intersentencespace"></span> Examining <a href="https://www.railstutorial.org/book/toy_app#code-toy_application_controller_class" class="hyperref">Listing&nbsp;<span class="ref">2.17</span></a>, we see that <code>ApplicationController</code> itself inherits from <code>ActionController::Base</code>; this is the base class for controllers provided by the Rails library Action Pack.<span class="intersentencespace"></span> The relationships between these classes is illustrated in <a href="https://www.railstutorial.org/book/toy_app#fig-demo_controller_inheritance" class="hyperref">Figure&nbsp;<span class="ref">2.17</span></a>.</p>
<div class="codelisting" id="_code-demo_users_controller_class" data-tralics-id="uid186" data-number="2.15"><div class="heading"><span class="number">Listing 2.15:</span> 

<span class="description">The <code>UsersController</code> class, highlighting inheritance.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/controllers/users_controller.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="hll"><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span>  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><div class="codelisting" id="_code-demo_microposts_controller_class" data-tralics-id="uid187" data-number="2.16"><div class="heading"><span class="number">Listing 2.16:</span> 

<span class="description">The <code>MicropostsController</code> class, highlighting inheritance.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/controllers/microposts_controller.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="hll"><span class="k">class</span> <span class="nc">MicropostsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span>  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><div class="codelisting" id="_code-toy_application_controller_class" data-tralics-id="uid188" data-number="2.17"><div class="heading"><span class="number">Listing 2.17:</span> 

<span class="description">The <code>ApplicationController</code> class, highlighting inheritance.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/controllers/application_controller.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="hll"><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
</span>  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div></div></div><div class="center figure" id="_fig-demo_controller_inheritance" data-tralics-id="uid189" data-number="2.17">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/demo_controller_inheritance.png" alt="images/figures/demo_controller_inheritance"></div><div class="caption"><span class="header">Figure 2.17: </span><span class="description">The inheritance hierarchy for the Users and Microposts controllers.
</span></div></div>
<p>As with model inheritance, both the Users and Microposts controllers gain a large amount of functionality by inheriting from a base class (in this case, <code>ActionController::Base</code>), including the ability to manipulate model objects, filter inbound HTTP requests, and render views as HTML. Since all Rails controllers inherit from <code>ApplicationController</code>, rules defined in the Application controller automatically apply to every action in the application.<span class="intersentencespace"></span> For example, in <a href="https://www.railstutorial.org/book/log_in_log_out#sec-remember_me" class="hyperref">Section&nbsp;<span class="ref">8.4</span></a> we’ll see how to include helpers for logging in and logging out of all of the sample application’s controllers.</p>
</div>
<div id="_sec-deploying_the_toy_app" data-tralics-id="uid190" class="subsection" data-number="2.3.5"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-deploying_the_toy_app" class="heading hyperref"><span class="number">2.3.5 </span>Deploying the toy app</a></h3>
<p>With the completion of the Microposts resource, now is a good time to push the repository up to Bitbucket:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> git status
<span class="gp">$</span> git add -A
<span class="gp">$</span> git commit -m <span class="s2">"Finish toy app"</span>
<span class="gp">$</span> git push
</pre></div></div>
<p>Ordinarily, you should make smaller, more frequent commits, but for the purposes of this chapter a single big commit at the end is fine.</p>
<p>At this point, you can also deploy the toy app to Heroku as in <a href="https://www.railstutorial.org/book/beginning#sec-deploying" class="hyperref">Section&nbsp;<span class="ref">1.5</span></a>:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push heroku
</pre></div></div>
<p>(This assumes you created the Heroku app in <a href="https://www.railstutorial.org/book/toy_app#sec-planning_the_application" class="hyperref">Section&nbsp;<span class="ref">2.1</span></a>.<span class="intersentencespace"></span> Otherwise, you should run <code>heroku create</code> and then <code>git push heroku master</code>.)</p>
<p>To get the application’s database to work, you’ll also have to migrate the production database:</p>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> heroku run rake db:migrate
</pre></div></div>
<p>This updates the database at Heroku with the necessary user and micropost data models.<span class="intersentencespace"></span> After running the migration, you should be able to use the toy app in production, with a real PostgreSQL database back-end (<a href="https://www.railstutorial.org/book/toy_app#fig-toy_app_production" class="hyperref">Figure&nbsp;<span class="ref">2.18</span></a>).</p>
<div class="center figure" id="_fig-toy_app_production" data-tralics-id="uid191" data-number="2.18">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/toy_app_production.png" alt="images/figures/toy_app_production"></div><div class="caption"><span class="header">Figure 2.18: </span><span class="description">Running the toy app in production.
</span></div></div>
</div></div><div id="_sec-toy_app_conclusion" data-tralics-id="cid13" class="section" data-number="2.4"><h2><a href="https://www.railstutorial.org/book/toy_app#sec-toy_app_conclusion" class="heading hyperref"><span class="number">2.4 </span>Conclusion</a></h2>
<p>We’ve come now to the end of the high-level overview of a Rails application.<span class="intersentencespace"></span> The toy app developed in this chapter has several strengths and a host of weaknesses.<span class="intersentencespace"></span> <span class="break"></span></p>
<p><strong>Strengths</strong></p>
<ul>
<li>High-level overview of Rails
</li>
<li>Introduction to MVC
</li>
<li>First taste of the REST architecture
</li>
<li>Beginning data modeling
</li>
<li>A live, database-backed web application in production
</li></ul>
<p><strong>Weaknesses</strong></p>
<ul>
<li>No custom layout or styling
</li>
<li>No static pages (such as “Home” or “About”)
</li>
<li>No user passwords
</li>
<li>No user images
</li>
<li>No logging in
</li>
<li>No security
</li>
<li>No automatic user/micropost association
</li>
<li>No notion of “following” or “followed”
</li>
<li>No micropost feed
</li>
<li>No meaningful tests
</li>
<li><strong>No real understanding</strong>
</li></ul>
<p>The rest of this tutorial is dedicated to building on the strengths and eliminating the weaknesses.</p>
<div id="_sec-toy_app_what_we_learned_in_this_chapter" data-tralics-id="uid208" class="subsection" data-number="2.4.1"><h3><a href="https://www.railstutorial.org/book/toy_app#sec-toy_app_what_we_learned_in_this_chapter" class="heading hyperref"><span class="number">2.4.1 </span>What we learned in this chapter</a></h3>
<ul>
<li>Scaffolding automatically creates code to model data and interact with it through the web.
</li>
<li>Scaffolding is good for getting started quickly but is bad for understanding.
</li>
<li>Rails uses the Model-View-Controller (MVC) pattern for structuring web applications.
</li>
<li>As interpreted by Rails, the REST architecture includes a standard set of URLs and controller actions for interacting with data models.
</li>
<li>Rails supports data validations to place constraints on the values of data model attributes.
</li>
<li>Rails comes with built-in functions for defining associations between different data models.
</li>
<li>We can interact with Rails applications at the command line using the Rails console.
</li></ul>
</div></div><div id="_sec-toy_app_exercises" data-tralics-id="cid14" class="section" data-number="2.5"><h2><a href="https://www.railstutorial.org/book/toy_app#sec-toy_app_exercises" class="heading hyperref"><span class="number">2.5 </span>Exercises</a></h2>
<p><em>Note</em>: The <em>Solutions Manual for Exercises</em>, with solutions to every exercise in the <em>Ruby on Rails Tutorial</em> book, is included for free with every purchase at <a href="http://www.railstutorial.org/" target="_blank">www.railstutorial.org</a>.</p>
<ol>
<li>The code in <a href="https://www.railstutorial.org/book/toy_app#code-validates_content_presence" class="hyperref">Listing&nbsp;<span class="ref">2.18</span></a> shows how to add a validation for the presence of micropost content in order to ensure that microposts can’t be blank.<span class="intersentencespace"></span> Verify that you get the behavior shown in <a href="https://www.railstutorial.org/book/toy_app#fig-micropost_content_cant_be_blank" class="hyperref">Figure&nbsp;<span class="ref">2.19</span></a>.
</li>
<li>Update <a href="https://www.railstutorial.org/book/toy_app#code-toy_user_presence_valications" class="hyperref">Listing&nbsp;<span class="ref">2.19</span></a> by replacing <code>FILL_IN</code> with the appropriate code to validate the presence of name and email attributes in the User model (<a href="https://www.railstutorial.org/book/toy_app#fig-user_presence_validations" class="hyperref">Figure&nbsp;<span class="ref">2.20</span></a>).
</li></ol>
<div class="codelisting" id="_code-validates_content_presence" data-tralics-id="uid218" data-number="2.18"><div class="heading"><span class="number">Listing 2.18:</span> 

<span class="description">Code to validate the presence of micropost content.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/models/micropost.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Micropost</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">belongs_to</span> <span class="ss">:user</span>
  <span class="n">validates</span> <span class="ss">:content</span><span class="p">,</span> <span class="ss">length</span><span class="p">:</span> <span class="p">{</span> <span class="ss">maximum</span><span class="p">:</span> <span class="mi">140</span> <span class="p">},</span>
<span class="hll">                      <span class="ss">presence</span><span class="p">:</span> <span class="kp">true</span>
</span><span class="k">end</span>
</pre></div></div></div><div class="center figure" id="_fig-micropost_content_cant_be_blank" data-tralics-id="uid219" data-number="2.19">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/micropost_content_cant_be_blank.png" alt="images/figures/micropost_content_cant_be_blank"></div><div class="caption"><span class="header">Figure 2.19: </span><span class="description">The effect of a micropost presence validation.
</span></div></div>
<div class="codelisting" id="_code-toy_user_presence_valications" data-tralics-id="uid220" data-number="2.19"><div class="heading"><span class="number">Listing 2.19:</span> 

<span class="description">Adding presence validations to the User model.<span class="intersentencespace"></span> <span class="break"></span> <span class="filepath">app/models/user.rb</span></span>
</div>

<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_many</span> <span class="ss">:microposts</span>
<span class="hll">  <span class="n">validates</span> <span class="no">FILL_IN</span><span class="p">,</span> <span class="ss">presence</span><span class="p">:</span> <span class="kp">true</span>
</span><span class="hll">  <span class="n">validates</span> <span class="no">FILL_IN</span><span class="p">,</span> <span class="ss">presence</span><span class="p">:</span> <span class="kp">true</span>
</span><span class="k">end</span>
</pre></div></div></div><div class="center figure" id="_fig-user_presence_validations" data-tralics-id="uid221" data-number="2.20">
<div class="graphics image"><img src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/user_presence_validations.png" alt="images/figures/user_presence_validations"></div><div class="caption"><span class="header">Figure 2.20: </span><span class="description">The effect of presence validations on the User model.
</span></div></div>
</div><div id="cha-2_footnotes">
  <ol class="footnotes">
    <li id="_cha-2_footnote-1">The main reason for this is that the default Rails page typically breaks at Heroku, which makes it hard to tell if the deployment was successful or not.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-1">↑</a></li>
    <li id="_cha-2_footnote-2">Because microposts are short by design, the <code>string</code> type is actually big enough to contain them, but using <code>text</code> better expresses our intent, while also giving us greater flexibility should we ever wish to relax the length constraint.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-2">↑</a></li>
    <li id="_cha-2_footnote-3">The name of the scaffold follows the convention of <em>models</em>, which are singular, rather than resources and controllers, which are plural.<span class="intersentencespace"></span> Thus, we have <code>User</code> instead of <code>Users</code>.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-3">↑</a></li>
    <li id="_cha-2_footnote-4">The <code>rails</code> script is designed so that you don’t need to use <code>bundle exec</code>.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-4">↑</a></li>
    <li id="_cha-2_footnote-5">Some references indicate that the view returns the HTML directly to the browser (via a web server such as Apache or Nginx).<span class="intersentencespace"></span> Regardless of the implementation details, I prefer to think of the controller as a central hub through which all the application’s information flows.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-5">↑</a></li>
    <li id="_cha-2_footnote-6">Fielding, Roy Thomas.<span class="intersentencespace"></span> <em>Architectural Styles and the Design of Network-based Software Architectures</em>.<span class="intersentencespace"></span> Doctoral dissertation, University of California, Irvine, 2000.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-6">↑</a></li>
    <li id="_cha-2_footnote-7">Earlier versions of Rails used <span class="tt">PUT</span> for data updates, but <span class="tt">PATCH</span> is the more appropriate method according to the HTTP standard.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-7">↑</a></li>
    <li id="_cha-2_footnote-8">As with the User scaffold, the scaffold generator for microposts follows the singular convention of Rails models; thus, we have <code>generate Micropost</code>.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-8">↑</a></li>
    <li id="_cha-2_footnote-9">The scaffold code may have extra newlines compared to <a href="https://www.railstutorial.org/book/toy_app#code-demo_microposts_resource" class="hyperref">Listing&nbsp;<span class="ref">2.8</span></a>.<span class="intersentencespace"></span> This is not a cause for concern, as Ruby ignores extra newlines.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-9">↑</a></li>
    <li id="_cha-2_footnote-10">Your console prompt might be something like <span class="tt">2.1.1 :001 &gt;</span>, but the examples use&nbsp;<span class="inline_verbatim">&gt;&gt;</span> since Ruby versions will vary.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-10">↑</a></li>
    <li id="_cha-2_footnote-11">As with “Ctrl-C”, the convention is to write “Ctrl-D” even though it’s really “Ctrl-d”.&nbsp;<a class="arrow" href="https://www.railstutorial.org/book/toy_app#cha-2_footnote-ref-11">↑</a></li>
  </ol>
</div></div></div>
<div id="bookBottomMenu">
<div class="bookMenuArows">
<a href="javascript://" class="leftArrow">◄</a>
<a href="javascript://" class="upArrow">▲</a>
<a href="javascript://" class="rightArrow">►</a>
</div>
</div>
</div>
<div id="bookContentNotAvailable">
<img alt="Empty_content" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/empty_content-ccbfa2e7e03ec571f0360d9bdd87eff3.png">
Sorry, content not available
</div>
</div>
<div class="emailPitch" id="bookEmailModal">
<a href="javascript://" class="emailSignupClose" onclick="closeEmailPops()">x</a>
<strong>STAY UP TO DATE!</strong>
<p>Joining the email list for this book will allow the author to contact you to let you know about special offers and when updates for the book are available.</p>
<div class="j_followBookForm"><form accept-charset="UTF-8" action="https://www.softcover.io/follow/28fdb94f/ruby_on_rails_tutorial_3rd_edition" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
<!-- %input{name: "name", type: "text", placeholder: "YOUR NAME"} -->
<input name="email" placeholder="YOUR EMAIL ADDRESS" type="text">
<input class="greyButton optClick_follow" type="submit" value="Follow Book">
</form>

</div>
</div>
<script>
  // setup book nav
  $(function(){
    Book.init({
      title: "Ruby on Rails Tutorial (3rd Ed.)",
      path: "/book",
      slug: "ruby_on_rails_tutorial_3rd_edition",
      s3_path_prefix: "636/ruby_on_rails_tutorial_3rd_edition",
      chapters: [{"title":"Frontmatter\n","number":0,"slug":"frontmatter","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/frontmatter_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=DQ0St%2Byamu7jIIcVOrHMG7u/3C0%3D&Expires=1436254911"},{"title":"Chapter 1: From zero to deploy\n","number":1,"slug":"beginning","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/beginning_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=ar4Wl5TmBQk/PpTIJk3SgL4eS7w%3D&Expires=1436254911"},{"title":"Chapter 2: A toy app\n","number":2,"slug":"toy_app","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/toy_app_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=R9QtqC9856q1xgsKtdrQ3TLychs%3D&Expires=1436254911"},{"title":"Chapter 3: Mostly static pages\n","number":3,"slug":"static_pages","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/static_pages_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=Xl/2MZgrQ/tSm55a5ec10eZwi1s%3D&Expires=1436254911"},{"title":"Chapter 4: Rails-flavored Ruby\n","number":4,"slug":"rails_flavored_ruby","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/rails_flavored_ruby_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=tNbHg4JBPIx5iNZucbUJpAlssw4%3D&Expires=1436254911"},{"title":"Chapter 5: Filling in the layout\n","number":5,"slug":"filling_in_the_layout","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/filling_in_the_layout_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=dFUTWK8meDo42WfCBa12f%2B2Bdc8%3D&Expires=1436254911"},{"title":"Chapter 6: Modeling users\n","number":6,"slug":"modeling_users","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/modeling_users_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=97UWq7f0ROD1QBITwBSM47FjbHg%3D&Expires=1436254911"},{"title":"Chapter 7: Sign up\n","number":7,"slug":"sign_up","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/sign_up_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=gHWHUagisEJmEbvkHSuh517F0aI%3D&Expires=1436254911"},{"title":"Chapter 8: Log in, log out\n","number":8,"slug":"log_in_log_out","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/log_in_log_out_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=GmDylLR819qtvm3KfocApmvzTEw%3D&Expires=1436254911"},{"title":"Chapter 9: Updating, showing, and deleting users\n","number":9,"slug":"updating_and_deleting_users","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/updating_and_deleting_users_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=0gDzuedgCERe5RoToHVAZC/yOiU%3D&Expires=1436254911"},{"title":"Chapter 10: Account activation and password reset\n","number":10,"slug":"account_activation_password_reset","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/account_activation_password_reset_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=RG86KwJXBB9HZkZ2iXvj7MKTVuw%3D&Expires=1436254911"},{"title":"Chapter 11: User microposts\n","number":11,"slug":"user_microposts","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/user_microposts_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=tkgFj/iT81KRU0sfnTfOiNzuSkY%3D&Expires=1436254911"},{"title":"Chapter 12: Following users\n","number":12,"slug":"following_users","s3_url":"https://softcover.s3.amazonaws.com/636/ruby_on_rails_tutorial_3rd_edition/html/following_users_fragment.html?AWSAccessKeyId=AKIAJMNNDDBSYVXVHGAA&Signature=IBDTK/uotjTOem0SgiR3YvlE84E%3D&Expires=1436254911"}],
      full_page: false,
      custom_math: "\"failing\": \"\\\\coloredtext{red}{\\\\textsc{\\\\textbf{red}}}\",\n\"passing\": \"\\\\coloredtext{ForestGreen}{\\\\textsc{\\\\textbf{green}}}\""
    });
  });
</script>

</div>
</div>
<div class="footer clearfix">
<div class="wrapper" id="hide_chromeFooter">
<em>powered by</em>
<a href="http://www.softcover.io/" class="logo"><img alt="Logo_foot" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/logo_foot-39da4a3be1566a91864f2712656b404e.png">
</a></div>
</div>

<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0023/6713.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>

<script type="text/javascript">
  var _sf_async_config = { uid: 9895, domain: 'softcover.io', useCanonical: true };
  (function() {
    function loadChartbeat() {
      window._sf_endpt = (new Date()).getTime();
      var e = document.createElement('script');
      e.setAttribute('language', 'javascript');
      e.setAttribute('type', 'text/javascript');
      e.setAttribute('src','//static.chartbeat.com/js/chartbeat.js');
      document.body.appendChild(e);
    };
    var oldonload = window.onload;
    window.onload = (typeof window.onload != 'function') ?
      loadChartbeat : function() { oldonload(); loadChartbeat(); };
  })();
</script>

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.perfectaudience.com/serve/54eea5d20a23b37d87000040.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>



<iframe name="stripeXDM_default555631_provider" id="stripeXDM_default555631_provider" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/channel.html" frameborder="0" style="position: absolute; top: -2000px; left: 0px;"></iframe><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/1ldYU13brY_.html" style="border: none;"></iframe></div></div></div><script language="javascript" type="text/javascript" src="./Chapter 2_ A toy app _ Ruby on Rails Tutorial (3rd Ed.) _ Softcover.io_files/chartbeat.js"></script></body></html>